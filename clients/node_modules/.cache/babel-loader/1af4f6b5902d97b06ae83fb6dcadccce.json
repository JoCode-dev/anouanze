{"ast":null,"code":"import axios from \"axios\";\nimport Cookies from \"js-cookie\";\nconst url = `http://localhost:5000`;\naxios.interceptors.request.use(req => {\n  if (localStorage.getItem(\"jwt\")) {\n    req.headers.Authorization = `Bearer ${JSON.parse(localStorage.getItem(\"jwt\")).token}`;\n  }\n\n  return req;\n});\naxios.defaults.withCredentials = true; // Authentication\n\nexport const register = userData => axios.post(`${url}/user/register`, userData);\nexport const login = user => axios.post(`${url}/user/login`, user);\n\nconst removeCookie = (key, value) => {\n  if (window !== undefined) {\n    Cookies.remove(key, {\n      path: \"/\"\n    });\n  }\n};\n\nexport const logout = async () => {\n  await axios({\n    method: \"GET\",\n    url: `${url}/user/logout`,\n    withCredentials: true\n  }).then(() => removeCookie(\"jwt\")); // .catch((err) => console.log(err));\n\n  window.location = \"/\";\n}; // User\n\nexport const getUser = id => axios.get(`${url}/user/${id}`);\nexport const getAllUsers = () => axios.get(`${url}/user`);\nexport const updateUser = (id, user) => axios.patch(`${url}/user/${id}`, user); // Paroisse\n\nexport const createParoisse = data => axios.post(`${url}/paroisse/`, data);\nexport const updateParoisse = (id, data) => axios.patch(`${url}/paroisse/${id}`, data);\nexport const deleteParoisse = id => axios.delete(`${url}/paroisse/${id}`);\nexport const chooseParoisse = (id, userId) => axios.patch(`${url}/paroisse/choose-paroisse/${id}`, userId);\nexport const unchooseParoisse = (id, userId) => axios.patch(`${url}/paroisse/unchoose-paroisse/${id}`, userId); // Clergy\n\nexport const addPriest = (id, data) => axios.patch(`${url}/add-clergy/${id}`, data);\nexport const removePriest = (id, data) => axios.patch(`${url}/remove-clergy/${id}`, data); // Event\n\nexport const createEvent = data => axios.post(`${url}/event`, data);\nexport const updateEvent = (id, data) => axios.patch(`${url}/event/${id}`, data);\nexport const removeEvent = id => axios.delete(`${url}/event/${id}`);\nexport const getAllEvents = () => axios.get(`${url}/event`);\nexport const getEvent = id => axios.get(`${url}/event/${id}`); // Actu\n\nexport const createActu = data => axios.post(`${url}/actu`, data);\nexport const removeActu = id => axios.delete(`${url}/actu/${id}`);\nexport const updateActu = (id, data) => axios.patch(`${url}/actu/${id}`, data);\nexport const getAllActus = () => axios.get(`${url}/actu`);\nexport const getActu = id => axios.get(`${url}/actu/${id}`);\nexport const getActusById = id => axios.get(`${url}/actu/paroisse/${id}`);","map":{"version":3,"names":["axios","Cookies","url","interceptors","request","use","req","localStorage","getItem","headers","Authorization","JSON","parse","token","defaults","withCredentials","register","userData","post","login","user","removeCookie","key","value","window","undefined","remove","path","logout","method","then","location","getUser","id","get","getAllUsers","updateUser","patch","createParoisse","data","updateParoisse","deleteParoisse","delete","chooseParoisse","userId","unchooseParoisse","addPriest","removePriest","createEvent","updateEvent","removeEvent","getAllEvents","getEvent","createActu","removeActu","updateActu","getAllActus","getActu","getActusById"],"sources":["/Users/macbookpro/Desktop/JVC/APP PAROISSE/ANOUANZE/client/src/api/index.js"],"sourcesContent":["import axios from \"axios\";\nimport Cookies from \"js-cookie\";\nconst url = `http://localhost:5000`;\n\naxios.interceptors.request.use((req) => {\n  if (localStorage.getItem(\"jwt\")) {\n    req.headers.Authorization = `Bearer ${\n      JSON.parse(localStorage.getItem(\"jwt\")).token\n    }`;\n  }\n\n  return req;\n});\n\naxios.defaults.withCredentials = true;\n\n// Authentication\nexport const register = (userData) =>\n  axios.post(`${url}/user/register`, userData);\n\nexport const login = (user) => axios.post(`${url}/user/login`, user);\n\nconst removeCookie = (key, value) => {\n  if (window !== undefined) {\n    Cookies.remove(key, { path: \"/\" });\n  }\n};\n\nexport const logout = async () => {\n  await axios({\n      method: \"GET\",\n      url: `${url}/user/logout`,\n      withCredentials: true,\n  }).then(() => removeCookie(\"jwt\"));\n  // .catch((err) => console.log(err));\n\n  window.location = \"/\";\n};\n\n// User\nexport const getUser = (id) => axios.get(`${url}/user/${id}`);\nexport const getAllUsers = () => axios.get(`${url}/user`);\nexport const updateUser = (id, user) => axios.patch(`${url}/user/${id}`, user);\n\n// Paroisse\nexport const createParoisse = (data) => axios.post(`${url}/paroisse/`, data);\nexport const updateParoisse = (id, data) =>\n  axios.patch(`${url}/paroisse/${id}`, data);\nexport const deleteParoisse = (id) => axios.delete(`${url}/paroisse/${id}`);\nexport const chooseParoisse = (id, userId) =>\n  axios.patch(`${url}/paroisse/choose-paroisse/${id}`, userId);\n\nexport const unchooseParoisse = (id, userId) =>\n  axios.patch(`${url}/paroisse/unchoose-paroisse/${id}`, userId);\n\n// Clergy\nexport const addPriest = (id, data) =>\n  axios.patch(`${url}/add-clergy/${id}`, data);\n\nexport const removePriest = (id, data) =>\n  axios.patch(`${url}/remove-clergy/${id}`, data);\n\n// Event\nexport const createEvent = (data) => axios.post(`${url}/event`, data);\nexport const updateEvent = (id, data) =>\n  axios.patch(`${url}/event/${id}`, data);\nexport const removeEvent = (id) => axios.delete(`${url}/event/${id}`);\nexport const getAllEvents = () => axios.get(`${url}/event`);\nexport const getEvent = (id) => axios.get(`${url}/event/${id}`);\n\n// Actu\nexport const createActu = (data) => axios.post(`${url}/actu`, data);\nexport const removeActu = (id) => axios.delete(`${url}/actu/${id}`);\nexport const updateActu = (id, data) => axios.patch(`${url}/actu/${id}`, data);\nexport const getAllActus = () => axios.get(`${url}/actu`);\nexport const getActu = (id) => axios.get(`${url}/actu/${id}`);\nexport const getActusById = (id) => axios.get(`${url}/actu/paroisse/${id}`);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}