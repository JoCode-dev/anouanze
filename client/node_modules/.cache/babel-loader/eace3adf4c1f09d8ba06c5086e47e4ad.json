{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useMemo, useCallback } from 'react';\nimport { UP_KEY, DOWN_KEY, ENTER_KEY } from '../../../libs/constants';\nimport { findItemIndex, isPrintableCharacter, findItemByKey } from '../utils';\nexport default function useArrowKeyNav(_ref) {\n  var childrenRefs = _ref.childrenRefs,\n      isLoading = _ref.isLoading;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      focusedChildIndex = _useState2[0],\n      setFocusedChildIndex = _useState2[1];\n\n  var focusChild = useCallback(function (index) {\n    if (isLoading || !childrenRefs[index]) {\n      return null;\n    }\n\n    setFocusedChildIndex(index);\n    return childrenRefs[index].focus();\n  }, [childrenRefs, isLoading]);\n  var focusMatchedItem = useCallback(function (matchedItem) {\n    var itemIndex = findItemIndex(childrenRefs, matchedItem);\n    return focusChild(itemIndex);\n  }, [childrenRefs, focusChild]);\n  var clearFocusedChild = useCallback(function () {\n    return setFocusedChildIndex(null);\n  }, [setFocusedChildIndex]);\n  var keyHandlerMap = useMemo(function () {\n    var _ref2;\n\n    return _ref2 = {}, _defineProperty(_ref2, UP_KEY, function () {\n      var nextFocusedChildIndex = focusedChildIndex > 0 ? focusedChildIndex - 1 : childrenRefs.length - 1;\n      setFocusedChildIndex(nextFocusedChildIndex);\n    }), _defineProperty(_ref2, DOWN_KEY, function () {\n      var nextFocusedChildIndex = focusedChildIndex < childrenRefs.length - 1 ? focusedChildIndex + 1 : 0;\n      setFocusedChildIndex(nextFocusedChildIndex);\n    }), _defineProperty(_ref2, ENTER_KEY, function () {\n      var isValidIndex = focusedChildIndex >= 0;\n\n      if (isValidIndex) {\n        childrenRefs[focusedChildIndex].click();\n      }\n    }), _ref2;\n  }, [childrenRefs, focusedChildIndex]);\n  var processPrintableCharacter = useCallback(function (_char) {\n    var matchedItem = findItemByKey(_char, childrenRefs, focusedChildIndex);\n\n    if (matchedItem) {\n      focusMatchedItem(matchedItem);\n    }\n  }, [childrenRefs, focusMatchedItem, focusedChildIndex]);\n  var handleKeyPress = useCallback(function (event) {\n    var keyCode = event.keyCode,\n        key = event.key;\n\n    if (keyHandlerMap[keyCode]) {\n      keyHandlerMap[keyCode]();\n    } else if (isPrintableCharacter(key)) {\n      processPrintableCharacter(key);\n    }\n  }, [keyHandlerMap, processPrintableCharacter]);\n  return {\n    focusedChildIndex: focusedChildIndex,\n    handleKeyPress: handleKeyPress,\n    focusMatchedItem: focusMatchedItem,\n    focusChild: focusChild,\n    clearFocusedChild: clearFocusedChild\n  };\n}","map":{"version":3,"names":["_defineProperty","_slicedToArray","useState","useMemo","useCallback","UP_KEY","DOWN_KEY","ENTER_KEY","findItemIndex","isPrintableCharacter","findItemByKey","useArrowKeyNav","_ref","childrenRefs","isLoading","_useState","_useState2","focusedChildIndex","setFocusedChildIndex","focusChild","index","focus","focusMatchedItem","matchedItem","itemIndex","clearFocusedChild","keyHandlerMap","_ref2","nextFocusedChildIndex","length","isValidIndex","click","processPrintableCharacter","_char","handleKeyPress","event","keyCode","key"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/node_modules/react-rainbow-components/esm/components/PrimitiveMenu/hooks/useArrowKeyNav.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useMemo, useCallback } from 'react';\nimport { UP_KEY, DOWN_KEY, ENTER_KEY } from '../../../libs/constants';\nimport { findItemIndex, isPrintableCharacter, findItemByKey } from '../utils';\nexport default function useArrowKeyNav(_ref) {\n  var childrenRefs = _ref.childrenRefs,\n      isLoading = _ref.isLoading;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      focusedChildIndex = _useState2[0],\n      setFocusedChildIndex = _useState2[1];\n\n  var focusChild = useCallback(function (index) {\n    if (isLoading || !childrenRefs[index]) {\n      return null;\n    }\n\n    setFocusedChildIndex(index);\n    return childrenRefs[index].focus();\n  }, [childrenRefs, isLoading]);\n  var focusMatchedItem = useCallback(function (matchedItem) {\n    var itemIndex = findItemIndex(childrenRefs, matchedItem);\n    return focusChild(itemIndex);\n  }, [childrenRefs, focusChild]);\n  var clearFocusedChild = useCallback(function () {\n    return setFocusedChildIndex(null);\n  }, [setFocusedChildIndex]);\n  var keyHandlerMap = useMemo(function () {\n    var _ref2;\n\n    return _ref2 = {}, _defineProperty(_ref2, UP_KEY, function () {\n      var nextFocusedChildIndex = focusedChildIndex > 0 ? focusedChildIndex - 1 : childrenRefs.length - 1;\n      setFocusedChildIndex(nextFocusedChildIndex);\n    }), _defineProperty(_ref2, DOWN_KEY, function () {\n      var nextFocusedChildIndex = focusedChildIndex < childrenRefs.length - 1 ? focusedChildIndex + 1 : 0;\n      setFocusedChildIndex(nextFocusedChildIndex);\n    }), _defineProperty(_ref2, ENTER_KEY, function () {\n      var isValidIndex = focusedChildIndex >= 0;\n\n      if (isValidIndex) {\n        childrenRefs[focusedChildIndex].click();\n      }\n    }), _ref2;\n  }, [childrenRefs, focusedChildIndex]);\n  var processPrintableCharacter = useCallback(function (_char) {\n    var matchedItem = findItemByKey(_char, childrenRefs, focusedChildIndex);\n\n    if (matchedItem) {\n      focusMatchedItem(matchedItem);\n    }\n  }, [childrenRefs, focusMatchedItem, focusedChildIndex]);\n  var handleKeyPress = useCallback(function (event) {\n    var keyCode = event.keyCode,\n        key = event.key;\n\n    if (keyHandlerMap[keyCode]) {\n      keyHandlerMap[keyCode]();\n    } else if (isPrintableCharacter(key)) {\n      processPrintableCharacter(key);\n    }\n  }, [keyHandlerMap, processPrintableCharacter]);\n  return {\n    focusedChildIndex: focusedChildIndex,\n    handleKeyPress: handleKeyPress,\n    focusMatchedItem: focusMatchedItem,\n    focusChild: focusChild,\n    clearFocusedChild: clearFocusedChild\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}