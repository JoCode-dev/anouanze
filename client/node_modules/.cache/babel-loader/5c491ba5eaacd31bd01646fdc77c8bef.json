{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { ESCAPE_KEY, ENTER_KEY } from '../../../libs/constants';\nimport RenderIf from '../../RenderIf';\nimport { StyledInput, StyledButtonIcon, StyledSpan, SpanContainer, RelativeInputContainer, StyledEditIcon } from './styled/editableCell';\nimport Cancel from './icons/cancel';\nexport default function EditableCell(props) {\n  var value = props.value,\n      onChange = props.onChange,\n      row = props.row,\n      field = props.field;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isEditMode = _useState2[0],\n      setIsEditMode = _useState2[1];\n\n  var _useState3 = useState(value),\n      _useState4 = _slicedToArray(_useState3, 2),\n      internalValue = _useState4[0],\n      setInternalValue = _useState4[1];\n\n  var inputRef = useRef(null);\n  useEffect(function () {\n    if (isEditMode) {\n      inputRef.current.focus();\n    }\n  }, [isEditMode]);\n\n  var clear = function clear(event) {\n    event.preventDefault();\n    inputRef.current.focus();\n    setInternalValue('');\n  };\n\n  var handleOnChange = function handleOnChange(event) {\n    setInternalValue(event.target.value);\n  };\n\n  var fireOnChange = function fireOnChange() {\n    if (value !== internalValue) {\n      onChange({\n        value: internalValue,\n        row: row\n      });\n    }\n\n    setIsEditMode(false);\n  };\n\n  var handleOnClick = function handleOnClick() {\n    setIsEditMode(true);\n  };\n\n  var handleOnKeyDown = function handleOnKeyDown(event) {\n    if (event.keyCode === ESCAPE_KEY) {\n      setInternalValue(value);\n      setIsEditMode(false);\n    }\n\n    if (event.keyCode === ENTER_KEY) {\n      fireOnChange();\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(RenderIf, {\n    isTrue: !isEditMode\n  }, React.createElement(SpanContainer, {\n    onClick: handleOnClick\n  }, React.createElement(StyledSpan, {\n    title: value\n  }, value), React.createElement(StyledEditIcon, null))), React.createElement(RenderIf, {\n    isTrue: isEditMode\n  }, React.createElement(RelativeInputContainer, null, React.createElement(StyledInput, {\n    value: internalValue,\n    onChange: handleOnChange,\n    ref: inputRef,\n    \"aria-label\": field,\n    onBlur: fireOnChange,\n    onKeyDown: handleOnKeyDown\n  }), React.createElement(StyledButtonIcon, {\n    variant: \"base\",\n    icon: React.createElement(Cancel, null),\n    size: \"medium\",\n    onMouseDown: clear,\n    assistiveText: \"Clear\"\n  }))));\n}\nEditableCell.propTypes = {\n  value: PropTypes.any,\n  row: PropTypes.object,\n  onChange: PropTypes.func,\n  field: PropTypes.string\n};\nEditableCell.defaultProps = {\n  value: undefined,\n  row: {},\n  onChange: function onChange() {},\n  field: undefined\n};","map":{"version":3,"names":["_slicedToArray","React","useRef","useState","useEffect","PropTypes","ESCAPE_KEY","ENTER_KEY","RenderIf","StyledInput","StyledButtonIcon","StyledSpan","SpanContainer","RelativeInputContainer","StyledEditIcon","Cancel","EditableCell","props","value","onChange","row","field","_useState","_useState2","isEditMode","setIsEditMode","_useState3","_useState4","internalValue","setInternalValue","inputRef","current","focus","clear","event","preventDefault","handleOnChange","target","fireOnChange","handleOnClick","handleOnKeyDown","keyCode","createElement","Fragment","isTrue","onClick","title","ref","onBlur","onKeyDown","variant","icon","size","onMouseDown","assistiveText","propTypes","any","object","func","string","defaultProps","undefined"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/node_modules/react-rainbow-components/esm/components/Table/body/editableCell.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { ESCAPE_KEY, ENTER_KEY } from '../../../libs/constants';\nimport RenderIf from '../../RenderIf';\nimport { StyledInput, StyledButtonIcon, StyledSpan, SpanContainer, RelativeInputContainer, StyledEditIcon } from './styled/editableCell';\nimport Cancel from './icons/cancel';\nexport default function EditableCell(props) {\n  var value = props.value,\n      onChange = props.onChange,\n      row = props.row,\n      field = props.field;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isEditMode = _useState2[0],\n      setIsEditMode = _useState2[1];\n\n  var _useState3 = useState(value),\n      _useState4 = _slicedToArray(_useState3, 2),\n      internalValue = _useState4[0],\n      setInternalValue = _useState4[1];\n\n  var inputRef = useRef(null);\n  useEffect(function () {\n    if (isEditMode) {\n      inputRef.current.focus();\n    }\n  }, [isEditMode]);\n\n  var clear = function clear(event) {\n    event.preventDefault();\n    inputRef.current.focus();\n    setInternalValue('');\n  };\n\n  var handleOnChange = function handleOnChange(event) {\n    setInternalValue(event.target.value);\n  };\n\n  var fireOnChange = function fireOnChange() {\n    if (value !== internalValue) {\n      onChange({\n        value: internalValue,\n        row: row\n      });\n    }\n\n    setIsEditMode(false);\n  };\n\n  var handleOnClick = function handleOnClick() {\n    setIsEditMode(true);\n  };\n\n  var handleOnKeyDown = function handleOnKeyDown(event) {\n    if (event.keyCode === ESCAPE_KEY) {\n      setInternalValue(value);\n      setIsEditMode(false);\n    }\n\n    if (event.keyCode === ENTER_KEY) {\n      fireOnChange();\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(RenderIf, {\n    isTrue: !isEditMode\n  }, React.createElement(SpanContainer, {\n    onClick: handleOnClick\n  }, React.createElement(StyledSpan, {\n    title: value\n  }, value), React.createElement(StyledEditIcon, null))), React.createElement(RenderIf, {\n    isTrue: isEditMode\n  }, React.createElement(RelativeInputContainer, null, React.createElement(StyledInput, {\n    value: internalValue,\n    onChange: handleOnChange,\n    ref: inputRef,\n    \"aria-label\": field,\n    onBlur: fireOnChange,\n    onKeyDown: handleOnKeyDown\n  }), React.createElement(StyledButtonIcon, {\n    variant: \"base\",\n    icon: React.createElement(Cancel, null),\n    size: \"medium\",\n    onMouseDown: clear,\n    assistiveText: \"Clear\"\n  }))));\n}\nEditableCell.propTypes = {\n  value: PropTypes.any,\n  row: PropTypes.object,\n  onChange: PropTypes.func,\n  field: PropTypes.string\n};\nEditableCell.defaultProps = {\n  value: undefined,\n  row: {},\n  onChange: function onChange() {},\n  field: undefined\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}