{"ast":null,"code":"import { AUTH, LOGOUT, SET_MESSAGE } from \"../constants/reducers\";\nimport * as api from \"../api\";\nexport const signup = userData => async dispatch => {\n  try {\n    await api.register(userData).then(res => {\n      dispatch({\n        type: AUTH,\n        user: res.data\n      });\n      window.location = \"/\";\n    });\n  } catch (error) {\n    var _error$response, _error$response$data;\n\n    dispatch({\n      type: SET_MESSAGE,\n      payload: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message\n    });\n  }\n};\nexport const login = (userData, bool) => async dispatch => {\n  try {\n    await api.login(userData).then(res => {\n      dispatch({\n        type: AUTH,\n        user: res.data\n      });\n      window.location = \"/\";\n    });\n  } catch (error) {\n    if (bool === true) {\n      await api.register(userData).then(res => {\n        dispatch({\n          type: AUTH,\n          user: res.data\n        });\n        window.location = \"/\";\n      });\n    } else {\n      var _error$response2, _error$response2$data;\n\n      console.log(\"====================================\");\n      console.log(error);\n      console.log(\"====================================\");\n      dispatch({\n        type: SET_MESSAGE,\n        payload: error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message\n      });\n    }\n  }\n};\nexport const logout = () => async dispatch => {\n  await api.logout();\n  dispatch({\n    type: LOGOUT\n  });\n};","map":{"version":3,"names":["AUTH","LOGOUT","SET_MESSAGE","api","signup","userData","dispatch","register","then","res","type","user","data","window","location","error","payload","response","message","login","bool","console","log","logout"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/src/actions/auth.js"],"sourcesContent":["import { AUTH, LOGOUT, SET_MESSAGE } from \"../constants/reducers\";\nimport * as api from \"../api\";\n\nexport const signup = (userData) => async (dispatch) => {\n  try {\n    await api.register(userData).then((res) => {\n      dispatch({ type: AUTH, user: res.data });\n      window.location = \"/\";\n    });\n  } catch (error) {\n    dispatch({ type: SET_MESSAGE, payload: error?.response?.data?.message });\n  }\n};\n\nexport const login = (userData, bool) => async (dispatch) => {\n  try {\n    await api.login(userData).then((res) => {\n      dispatch({ type: AUTH, user: res.data });\n      window.location = \"/\";\n    });\n  } catch (error) {\n    if (bool === true) {\n      await api.register(userData).then((res) => {\n        dispatch({ type: AUTH, user: res.data });\n        window.location = \"/\";\n      });\n    } else {\n      console.log(\"====================================\");\n      console.log(error);\n      console.log(\"====================================\");\n      dispatch({ type: SET_MESSAGE, payload: error?.response?.data?.message });\n    }\n  }\n};\n\nexport const logout = () => async (dispatch) => {\n  await api.logout();\n  dispatch({ type: LOGOUT });\n};\n"],"mappings":"AAAA,SAASA,IAAT,EAAeC,MAAf,EAAuBC,WAAvB,QAA0C,uBAA1C;AACA,OAAO,KAAKC,GAAZ,MAAqB,QAArB;AAEA,OAAO,MAAMC,MAAM,GAAIC,QAAD,IAAc,MAAOC,QAAP,IAAoB;EACtD,IAAI;IACF,MAAMH,GAAG,CAACI,QAAJ,CAAaF,QAAb,EAAuBG,IAAvB,CAA6BC,GAAD,IAAS;MACzCH,QAAQ,CAAC;QAAEI,IAAI,EAAEV,IAAR;QAAcW,IAAI,EAAEF,GAAG,CAACG;MAAxB,CAAD,CAAR;MACAC,MAAM,CAACC,QAAP,GAAkB,GAAlB;IACD,CAHK,CAAN;EAID,CALD,CAKE,OAAOC,KAAP,EAAc;IAAA;;IACdT,QAAQ,CAAC;MAAEI,IAAI,EAAER,WAAR;MAAqBc,OAAO,EAAED,KAAF,aAAEA,KAAF,0CAAEA,KAAK,CAAEE,QAAT,4EAAE,gBAAiBL,IAAnB,yDAAE,qBAAuBM;IAArD,CAAD,CAAR;EACD;AACF,CATM;AAWP,OAAO,MAAMC,KAAK,GAAG,CAACd,QAAD,EAAWe,IAAX,KAAoB,MAAOd,QAAP,IAAoB;EAC3D,IAAI;IACF,MAAMH,GAAG,CAACgB,KAAJ,CAAUd,QAAV,EAAoBG,IAApB,CAA0BC,GAAD,IAAS;MACtCH,QAAQ,CAAC;QAAEI,IAAI,EAAEV,IAAR;QAAcW,IAAI,EAAEF,GAAG,CAACG;MAAxB,CAAD,CAAR;MACAC,MAAM,CAACC,QAAP,GAAkB,GAAlB;IACD,CAHK,CAAN;EAID,CALD,CAKE,OAAOC,KAAP,EAAc;IACd,IAAIK,IAAI,KAAK,IAAb,EAAmB;MACjB,MAAMjB,GAAG,CAACI,QAAJ,CAAaF,QAAb,EAAuBG,IAAvB,CAA6BC,GAAD,IAAS;QACzCH,QAAQ,CAAC;UAAEI,IAAI,EAAEV,IAAR;UAAcW,IAAI,EAAEF,GAAG,CAACG;QAAxB,CAAD,CAAR;QACAC,MAAM,CAACC,QAAP,GAAkB,GAAlB;MACD,CAHK,CAAN;IAID,CALD,MAKO;MAAA;;MACLO,OAAO,CAACC,GAAR,CAAY,sCAAZ;MACAD,OAAO,CAACC,GAAR,CAAYP,KAAZ;MACAM,OAAO,CAACC,GAAR,CAAY,sCAAZ;MACAhB,QAAQ,CAAC;QAAEI,IAAI,EAAER,WAAR;QAAqBc,OAAO,EAAED,KAAF,aAAEA,KAAF,2CAAEA,KAAK,CAAEE,QAAT,8EAAE,iBAAiBL,IAAnB,0DAAE,sBAAuBM;MAArD,CAAD,CAAR;IACD;EACF;AACF,CAnBM;AAqBP,OAAO,MAAMK,MAAM,GAAG,MAAM,MAAOjB,QAAP,IAAoB;EAC9C,MAAMH,GAAG,CAACoB,MAAJ,EAAN;EACAjB,QAAQ,CAAC;IAAEI,IAAI,EAAET;EAAR,CAAD,CAAR;AACD,CAHM"},"metadata":{},"sourceType":"module"}