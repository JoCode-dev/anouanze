{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { useMemo, useCallback } from 'react';\nimport { UP_KEY, DOWN_KEY, RIGHT_KEY, LEFT_KEY, HOME_KEY, END_KEY, PAGEUP_KEY, PAGEDN_KEY, SPACE_KEY, ENTER_KEY } from '../../../../libs/constants';\nimport { isSameMonth, addMonths } from '../../helpers';\nimport getShouldUpdateCurrentMonth from '../helpers/shouldUpdateCurrentMonth';\nimport useMoveFocusedDay from './useMoveFocusedDay';\nimport useMoveFocusedMonth from './useMoveFocusedMonth';\nexport default function useHandleKeyDown(focusedDate, currentMonth, rightCalendarMonth, minDate, maxDate, onChange, enableNavKeys, setFocusedDate, setCurrentMonth) {\n  var moveFocusedDay = useMoveFocusedDay(focusedDate, currentMonth, minDate, maxDate);\n  var moveFocusedMonth = useMoveFocusedMonth(focusedDate, minDate, maxDate);\n  var shouldUpdateCurrentMonth = useCallback(function (value) {\n    return getShouldUpdateCurrentMonth(value, currentMonth, rightCalendarMonth);\n  }, [currentMonth, rightCalendarMonth]);\n  var keyHandlerMap = useMemo(function () {\n    var _ref;\n\n    return _ref = {}, _defineProperty(_ref, UP_KEY, function () {\n      var result = moveFocusedDay(-7);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, DOWN_KEY, function () {\n      var result = moveFocusedDay(7);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, LEFT_KEY, function () {\n      var result = moveFocusedDay(-1);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, RIGHT_KEY, function () {\n      var result = moveFocusedDay(1);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, HOME_KEY, function () {\n      var result = moveFocusedDay(-focusedDate.getDay());\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, END_KEY, function () {\n      var result = moveFocusedDay(6 - focusedDate.getDay());\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, PAGEUP_KEY, function () {\n      var result = moveFocusedMonth(-1);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.month) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, PAGEDN_KEY, function () {\n      var result = moveFocusedMonth(1);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.month) ? rightCalendarMonth : undefined\n      };\n    }), _defineProperty(_ref, SPACE_KEY, function () {\n      return onChange(new Date(focusedDate));\n    }), _defineProperty(_ref, ENTER_KEY, function () {\n      return onChange(new Date(focusedDate));\n    }), _ref;\n  }, [focusedDate, moveFocusedDay, moveFocusedMonth, onChange, rightCalendarMonth, shouldUpdateCurrentMonth]);\n  var keyHandlerMapAlt = useMemo(function () {\n    var _ref2;\n\n    return _ref2 = {}, _defineProperty(_ref2, HOME_KEY, function () {\n      var result = moveFocusedDay(-focusedDate.getDay());\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref2, END_KEY, function () {\n      var result = moveFocusedDay(6 - focusedDate.getDay());\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref2, PAGEUP_KEY, function () {\n      var result = moveFocusedMonth(-12);\n      return {\n        day: result.day,\n        month: isSameMonth(result.month, rightCalendarMonth) ? addMonths(result.month, -1) : result.month\n      };\n    }), _defineProperty(_ref2, PAGEDN_KEY, function () {\n      var result = moveFocusedMonth(12);\n      return {\n        day: result.day,\n        month: isSameMonth(result.month, rightCalendarMonth) ? addMonths(result.month, -1) : result.month\n      };\n    }), _ref2;\n  }, [focusedDate, moveFocusedDay, moveFocusedMonth, rightCalendarMonth, shouldUpdateCurrentMonth]);\n  return useCallback(function (event) {\n    if (enableNavKeys) {\n      var keyCode = event.keyCode,\n          altKey = event.altKey;\n      var keyHandler = altKey ? keyHandlerMapAlt : keyHandlerMap;\n\n      if (keyHandler[keyCode]) {\n        event.preventDefault();\n        event.stopPropagation();\n        var result = keyHandler[keyCode]();\n        if (result && result.day) setFocusedDate(result.day);\n        if (result && result.month) setCurrentMonth(result.month);\n      }\n    }\n  }, [enableNavKeys, keyHandlerMap, keyHandlerMapAlt, setCurrentMonth, setFocusedDate]);\n}","map":{"version":3,"names":["_defineProperty","useMemo","useCallback","UP_KEY","DOWN_KEY","RIGHT_KEY","LEFT_KEY","HOME_KEY","END_KEY","PAGEUP_KEY","PAGEDN_KEY","SPACE_KEY","ENTER_KEY","isSameMonth","addMonths","getShouldUpdateCurrentMonth","useMoveFocusedDay","useMoveFocusedMonth","useHandleKeyDown","focusedDate","currentMonth","rightCalendarMonth","minDate","maxDate","onChange","enableNavKeys","setFocusedDate","setCurrentMonth","moveFocusedDay","moveFocusedMonth","shouldUpdateCurrentMonth","value","keyHandlerMap","_ref","result","day","month","undefined","getDay","Date","keyHandlerMapAlt","_ref2","event","keyCode","altKey","keyHandler","preventDefault","stopPropagation"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/node_modules/react-rainbow-components/esm/components/Calendar/doubleCalendar/hooks/useHandleKeyDown.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { useMemo, useCallback } from 'react';\nimport { UP_KEY, DOWN_KEY, RIGHT_KEY, LEFT_KEY, HOME_KEY, END_KEY, PAGEUP_KEY, PAGEDN_KEY, SPACE_KEY, ENTER_KEY } from '../../../../libs/constants';\nimport { isSameMonth, addMonths } from '../../helpers';\nimport getShouldUpdateCurrentMonth from '../helpers/shouldUpdateCurrentMonth';\nimport useMoveFocusedDay from './useMoveFocusedDay';\nimport useMoveFocusedMonth from './useMoveFocusedMonth';\nexport default function useHandleKeyDown(focusedDate, currentMonth, rightCalendarMonth, minDate, maxDate, onChange, enableNavKeys, setFocusedDate, setCurrentMonth) {\n  var moveFocusedDay = useMoveFocusedDay(focusedDate, currentMonth, minDate, maxDate);\n  var moveFocusedMonth = useMoveFocusedMonth(focusedDate, minDate, maxDate);\n  var shouldUpdateCurrentMonth = useCallback(function (value) {\n    return getShouldUpdateCurrentMonth(value, currentMonth, rightCalendarMonth);\n  }, [currentMonth, rightCalendarMonth]);\n  var keyHandlerMap = useMemo(function () {\n    var _ref;\n\n    return _ref = {}, _defineProperty(_ref, UP_KEY, function () {\n      var result = moveFocusedDay(-7);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, DOWN_KEY, function () {\n      var result = moveFocusedDay(7);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, LEFT_KEY, function () {\n      var result = moveFocusedDay(-1);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, RIGHT_KEY, function () {\n      var result = moveFocusedDay(1);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, HOME_KEY, function () {\n      var result = moveFocusedDay(-focusedDate.getDay());\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, END_KEY, function () {\n      var result = moveFocusedDay(6 - focusedDate.getDay());\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, PAGEUP_KEY, function () {\n      var result = moveFocusedMonth(-1);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.month) ? result.month : undefined\n      };\n    }), _defineProperty(_ref, PAGEDN_KEY, function () {\n      var result = moveFocusedMonth(1);\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.month) ? rightCalendarMonth : undefined\n      };\n    }), _defineProperty(_ref, SPACE_KEY, function () {\n      return onChange(new Date(focusedDate));\n    }), _defineProperty(_ref, ENTER_KEY, function () {\n      return onChange(new Date(focusedDate));\n    }), _ref;\n  }, [focusedDate, moveFocusedDay, moveFocusedMonth, onChange, rightCalendarMonth, shouldUpdateCurrentMonth]);\n  var keyHandlerMapAlt = useMemo(function () {\n    var _ref2;\n\n    return _ref2 = {}, _defineProperty(_ref2, HOME_KEY, function () {\n      var result = moveFocusedDay(-focusedDate.getDay());\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref2, END_KEY, function () {\n      var result = moveFocusedDay(6 - focusedDate.getDay());\n      return {\n        day: result.day,\n        month: shouldUpdateCurrentMonth(result.day) ? result.month : undefined\n      };\n    }), _defineProperty(_ref2, PAGEUP_KEY, function () {\n      var result = moveFocusedMonth(-12);\n      return {\n        day: result.day,\n        month: isSameMonth(result.month, rightCalendarMonth) ? addMonths(result.month, -1) : result.month\n      };\n    }), _defineProperty(_ref2, PAGEDN_KEY, function () {\n      var result = moveFocusedMonth(12);\n      return {\n        day: result.day,\n        month: isSameMonth(result.month, rightCalendarMonth) ? addMonths(result.month, -1) : result.month\n      };\n    }), _ref2;\n  }, [focusedDate, moveFocusedDay, moveFocusedMonth, rightCalendarMonth, shouldUpdateCurrentMonth]);\n  return useCallback(function (event) {\n    if (enableNavKeys) {\n      var keyCode = event.keyCode,\n          altKey = event.altKey;\n      var keyHandler = altKey ? keyHandlerMapAlt : keyHandlerMap;\n\n      if (keyHandler[keyCode]) {\n        event.preventDefault();\n        event.stopPropagation();\n        var result = keyHandler[keyCode]();\n        if (result && result.day) setFocusedDate(result.day);\n        if (result && result.month) setCurrentMonth(result.month);\n      }\n    }\n  }, [enableNavKeys, keyHandlerMap, keyHandlerMapAlt, setCurrentMonth, setFocusedDate]);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}