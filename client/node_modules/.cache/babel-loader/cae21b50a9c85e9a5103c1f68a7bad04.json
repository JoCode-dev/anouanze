{"ast":null,"code":"var _jsxFileName = \"/Users/jocode/Documents/GitHub/anouanze/client/src/components/ModDashboard/Actus.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getActuByID } from \"../../actions/actus\";\nimport { isEmpty } from \"../utils/index\";\nimport { NavLink } from \"react-router-dom\";\nimport { createActu, updateActu, deleteActu } from \"../../actions/actus\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Actus = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.user.user);\n  const actus = useSelector(state => {\n    var _state$actus;\n\n    return (_state$actus = state.actus) === null || _state$actus === void 0 ? void 0 : _state$actus.data;\n  });\n  !isEmpty(actus) && actus.sort((a, b) => {\n    return b.createdAt.localeCompare(a.createdAt);\n  });\n  useEffect(() => {\n    dispatch(getActuByID(user._paroisse));\n  }, [dispatch]); // Données Formulaire\n\n  const [formData, setFormData] = useState({\n    poster: \"\",\n    title: \"\",\n    description: \"\",\n    address: \"\"\n  }); // Afficher / Cacher le formulaire\n\n  const [toggleForm, setToggleForm] = useState(false); // Fichiers données\n\n  const [files, setFiles] = useState([]);\n  const [fileSet, setFileSet] = useState([]);\n  const [isOk, setIsOk] = useState(false);\n  const [isSetForm, setIsSetForm] = useState(false); // Mode édition\n\n  const [isEdit, setIsEdit] = useState(false);\n  const [actuEdit, setActuEdit] = useState({});\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"events-board-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Actualit\\xE9s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"events-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"premium-events\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"event-add-element\",\n            onClick: () => {\n              setToggleForm(!toggleForm);\n              setFormData({ ...formData,\n                isPremium: true\n              });\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: process.env.PUBLIC_URL + \"/imgs/icons/add.png\",\n              alt: \"add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), !isEmpty(actus) && actus.map((element, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"event-element\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-infos\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"event-infos-image\",\n                children: [element !== null && element !== void 0 && element.poster ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: process.env.PUBLIC_URL + element.poster,\n                  alt: element.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: process.env.PUBLIC_URL + \"/imgs/icon.png\",\n                  alt: element.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 25\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"event-infos-name\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: element.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: element.organizer\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: element.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-element-footer\",\n              children: [/*#__PURE__*/_jsxDEV(NavLink, {\n                to: `/event/${element._id}`,\n                className: \"footer-view\",\n                target: \"_blank\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: process.env.PUBLIC_URL + \"/imgs/icons/eye.png\",\n                  alt: \"eye\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"footer-edit\",\n                onClick: () => editActu(element._id),\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: process.env.PUBLIC_URL + \"/imgs/icons/edit.png\",\n                  alt: \"edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"footer-delete\",\n                onClick: () => deleteActu(element._id),\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: process.env.PUBLIC_URL + \"/imgs/icons/trash.png\",\n                  alt: \"delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Actus, \"5drYg0YiNHg7NvguoVS/rfX+Jf8=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Actus;\nexport default Actus;\n\nvar _c;\n\n$RefreshReg$(_c, \"Actus\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","getActuByID","isEmpty","NavLink","createActu","updateActu","deleteActu","Actus","dispatch","user","state","actus","data","sort","a","b","createdAt","localeCompare","_paroisse","formData","setFormData","poster","title","description","address","toggleForm","setToggleForm","files","setFiles","fileSet","setFileSet","isOk","setIsOk","isSetForm","setIsSetForm","isEdit","setIsEdit","actuEdit","setActuEdit","isPremium","process","env","PUBLIC_URL","map","element","i","name","organizer","_id","editActu"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/src/components/ModDashboard/Actus.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getActuByID } from \"../../actions/actus\";\nimport { isEmpty } from \"../utils/index\";\nimport { NavLink } from \"react-router-dom\";\n\nimport { createActu, updateActu, deleteActu } from \"../../actions/actus\";\n\nconst Actus = () => {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user.user);\n  const actus = useSelector((state) => state.actus?.data);\n\n  !isEmpty(actus) &&\n    actus.sort((a, b) => {\n      return b.createdAt.localeCompare(a.createdAt);\n    });\n\n  useEffect(() => {\n    dispatch(getActuByID(user._paroisse));\n  }, [dispatch]);\n\n  // Données Formulaire\n  const [formData, setFormData] = useState({\n    poster: \"\",\n    title: \"\",\n    description: \"\",\n    address: \"\",\n  });\n\n  // Afficher / Cacher le formulaire\n  const [toggleForm, setToggleForm] = useState(false);\n\n  // Fichiers données\n  const [files, setFiles] = useState([]);\n  const [fileSet, setFileSet] = useState([]);\n\n  const [isOk, setIsOk] = useState(false);\n\n  const [isSetForm, setIsSetForm] = useState(false);\n\n  // Mode édition\n  const [isEdit, setIsEdit] = useState(false);\n  const [actuEdit, setActuEdit] = useState({});\n\n  return (\n    <>\n      <div className=\"events-board-container\">\n        <div className=\"header\">\n          <h1>Actualités</h1>\n        </div>\n\n        <div className=\"events-container\">\n          <div className=\"premium-events\">\n            <div\n              className=\"event-add-element\"\n              onClick={() => {\n                setToggleForm(!toggleForm);\n                setFormData({ ...formData, isPremium: true });\n              }}\n            >\n              <img\n                src={process.env.PUBLIC_URL + \"/imgs/icons/add.png\"}\n                alt={\"add\"}\n              />\n            </div>\n            {!isEmpty(actus) &&\n              actus.map((element, i) => (\n                <div className=\"event-element\" key={i}>\n                  <div className=\"event-infos\">\n                    <div className=\"event-infos-image\">\n                      {element?.poster ? (\n                        <img\n                          src={process.env.PUBLIC_URL + element.poster}\n                          alt={element.name}\n                        />\n                      ) : (\n                        <img\n                          src={process.env.PUBLIC_URL + \"/imgs/icon.png\"}\n                          alt={element.name}\n                        />\n                      )}{\" \"}\n                    </div>\n                    <div className=\"event-infos-name\">\n                      <h4>{element.title}</h4>\n                      <h6>{element.organizer}</h6>\n                      <h6>{element.address}</h6>\n                    </div>\n                  </div>\n                  <div className=\"event-element-footer\">\n                    <NavLink\n                      to={`/event/${element._id}`}\n                      className=\"footer-view\"\n                      target=\"_blank\"\n                    >\n                      <img\n                        src={process.env.PUBLIC_URL + \"/imgs/icons/eye.png\"}\n                        alt={\"eye\"}\n                      />\n                    </NavLink>{\" \"}\n                    <div\n                      className=\"footer-edit\"\n                      onClick={() => editActu(element._id)}\n                    >\n                      <img\n                        src={process.env.PUBLIC_URL + \"/imgs/icons/edit.png\"}\n                        alt={\"edit\"}\n                      />\n                    </div>\n                    <div\n                      className=\"footer-delete\"\n                      onClick={() => deleteActu(element._id)}\n                    >\n                      <img\n                        src={process.env.PUBLIC_URL + \"/imgs/icons/trash.png\"}\n                        alt={\"delete\"}\n                      />\n                    </div>\n                  </div>\n                </div>\n              ))}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Actus;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}