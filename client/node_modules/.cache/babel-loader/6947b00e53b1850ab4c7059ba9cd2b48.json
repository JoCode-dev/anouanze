{"ast":null,"code":"import React, { useEffect, useImperativeHandle, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport InputItems from './inputItems';\nimport RenderIf from '../RenderIf';\nimport Label from '../Input/label';\nimport { useReduxForm } from '../../libs/hooks';\nimport { useFocusedIndexState, usePreviousIndex, useValueState } from './hooks';\nimport { getNormalizedValue, getNumbersFromClipboard, setFocus } from './helpers';\nimport { StyledErrorMessage, StyledFieldset, StyledHelpText } from './styled';\nvar CodeInput = React.forwardRef(function (props, ref) {\n  var _useReduxForm = useReduxForm(props),\n      id = _useReduxForm.id,\n      valueProp = _useReduxForm.value,\n      label = _useReduxForm.label,\n      labelAlignment = _useReduxForm.labelAlignment,\n      hideLabel = _useReduxForm.hideLabel,\n      bottomHelpText = _useReduxForm.bottomHelpText,\n      length = _useReduxForm.length,\n      disabled = _useReduxForm.disabled,\n      required = _useReduxForm.required,\n      readOnly = _useReduxForm.readOnly,\n      error = _useReduxForm.error,\n      tabIndex = _useReduxForm.tabIndex,\n      onClick = _useReduxForm.onClick,\n      onChange = _useReduxForm.onChange,\n      onFocus = _useReduxForm.onFocus,\n      onBlur = _useReduxForm.onBlur,\n      onKeyDown = _useReduxForm.onKeyDown,\n      className = _useReduxForm.className,\n      style = _useReduxForm.style;\n\n  var inputRef = useRef();\n  var value = useValueState(valueProp, length);\n  var focusedIndex = useFocusedIndexState(value, length, disabled, readOnly);\n  var previousFocusedIndex = usePreviousIndex(focusedIndex);\n  useImperativeHandle(ref, function () {\n    return {\n      focus: function focus() {\n        inputRef.current.focus();\n      },\n      click: function click() {\n        inputRef.current.click();\n      },\n      blur: function blur() {\n        inputRef.current.blur();\n      }\n    };\n  });\n  useEffect(function () {\n    if (previousFocusedIndex !== undefined) {\n      setFocus(inputRef);\n    }\n  }, [inputRef, focusedIndex, previousFocusedIndex]);\n\n  var handleOnChange = function handleOnChange(inputValue, index) {\n    var newValue = getNormalizedValue(inputValue, index, value);\n    var hasValueChanged = newValue !== valueProp;\n\n    if (hasValueChanged) {\n      onChange(newValue);\n    }\n  };\n\n  var handleOnFocus = function handleOnFocus(event, index) {\n    if (focusedIndex !== index) {\n      setFocus(inputRef);\n    }\n\n    onFocus(event);\n  };\n\n  var handleOnPaste = function handleOnPaste(event) {\n    onChange(getNumbersFromClipboard(event.clipboardData.getData('Text')));\n  };\n\n  return React.createElement(StyledFieldset, {\n    className: className,\n    style: style,\n    id: id\n  }, React.createElement(RenderIf, {\n    isTrue: label\n  }, React.createElement(Label, {\n    label: label,\n    labelAlignment: labelAlignment,\n    hideLabel: hideLabel,\n    required: required,\n    as: \"legend\"\n  })), React.createElement(InputItems, {\n    value: value,\n    disabled: disabled,\n    readOnly: readOnly,\n    error: error,\n    tabIndex: tabIndex,\n    onClick: onClick,\n    onChange: handleOnChange,\n    onFocus: handleOnFocus,\n    onBlur: onBlur,\n    onKeyDown: onKeyDown,\n    onPaste: handleOnPaste,\n    focusedIndex: focusedIndex,\n    ref: inputRef\n  }), React.createElement(RenderIf, {\n    isTrue: bottomHelpText\n  }, React.createElement(StyledHelpText, null, bottomHelpText)), React.createElement(RenderIf, {\n    isTrue: error\n  }, React.createElement(StyledErrorMessage, null, error)));\n});\nCodeInput.propTypes = {\n  id: PropTypes.string,\n  value: PropTypes.string,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  labelAlignment: PropTypes.oneOf(['left', 'center', 'right']),\n  hideLabel: PropTypes.bool,\n  bottomHelpText: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  length: PropTypes.number,\n  disabled: PropTypes.bool,\n  required: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  error: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  onClick: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\nCodeInput.defaultProps = {\n  id: undefined,\n  value: '',\n  label: undefined,\n  labelAlignment: 'center',\n  hideLabel: false,\n  bottomHelpText: undefined,\n  length: 4,\n  disabled: false,\n  required: false,\n  readOnly: false,\n  error: null,\n  tabIndex: undefined,\n  onClick: function onClick() {},\n  onChange: function onChange() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onKeyDown: function onKeyDown() {},\n  className: undefined,\n  style: undefined\n};\nexport default CodeInput;","map":{"version":3,"names":["React","useEffect","useImperativeHandle","useRef","PropTypes","InputItems","RenderIf","Label","useReduxForm","useFocusedIndexState","usePreviousIndex","useValueState","getNormalizedValue","getNumbersFromClipboard","setFocus","StyledErrorMessage","StyledFieldset","StyledHelpText","CodeInput","forwardRef","props","ref","_useReduxForm","id","valueProp","value","label","labelAlignment","hideLabel","bottomHelpText","length","disabled","required","readOnly","error","tabIndex","onClick","onChange","onFocus","onBlur","onKeyDown","className","style","inputRef","focusedIndex","previousFocusedIndex","focus","current","click","blur","undefined","handleOnChange","inputValue","index","newValue","hasValueChanged","handleOnFocus","event","handleOnPaste","clipboardData","getData","createElement","isTrue","as","onPaste","propTypes","string","oneOfType","node","oneOf","bool","number","func","object","defaultProps"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/node_modules/react-rainbow-components/esm/components/CodeInput/index.js"],"sourcesContent":["import React, { useEffect, useImperativeHandle, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport InputItems from './inputItems';\nimport RenderIf from '../RenderIf';\nimport Label from '../Input/label';\nimport { useReduxForm } from '../../libs/hooks';\nimport { useFocusedIndexState, usePreviousIndex, useValueState } from './hooks';\nimport { getNormalizedValue, getNumbersFromClipboard, setFocus } from './helpers';\nimport { StyledErrorMessage, StyledFieldset, StyledHelpText } from './styled';\nvar CodeInput = React.forwardRef(function (props, ref) {\n  var _useReduxForm = useReduxForm(props),\n      id = _useReduxForm.id,\n      valueProp = _useReduxForm.value,\n      label = _useReduxForm.label,\n      labelAlignment = _useReduxForm.labelAlignment,\n      hideLabel = _useReduxForm.hideLabel,\n      bottomHelpText = _useReduxForm.bottomHelpText,\n      length = _useReduxForm.length,\n      disabled = _useReduxForm.disabled,\n      required = _useReduxForm.required,\n      readOnly = _useReduxForm.readOnly,\n      error = _useReduxForm.error,\n      tabIndex = _useReduxForm.tabIndex,\n      onClick = _useReduxForm.onClick,\n      onChange = _useReduxForm.onChange,\n      onFocus = _useReduxForm.onFocus,\n      onBlur = _useReduxForm.onBlur,\n      onKeyDown = _useReduxForm.onKeyDown,\n      className = _useReduxForm.className,\n      style = _useReduxForm.style;\n\n  var inputRef = useRef();\n  var value = useValueState(valueProp, length);\n  var focusedIndex = useFocusedIndexState(value, length, disabled, readOnly);\n  var previousFocusedIndex = usePreviousIndex(focusedIndex);\n  useImperativeHandle(ref, function () {\n    return {\n      focus: function focus() {\n        inputRef.current.focus();\n      },\n      click: function click() {\n        inputRef.current.click();\n      },\n      blur: function blur() {\n        inputRef.current.blur();\n      }\n    };\n  });\n  useEffect(function () {\n    if (previousFocusedIndex !== undefined) {\n      setFocus(inputRef);\n    }\n  }, [inputRef, focusedIndex, previousFocusedIndex]);\n\n  var handleOnChange = function handleOnChange(inputValue, index) {\n    var newValue = getNormalizedValue(inputValue, index, value);\n    var hasValueChanged = newValue !== valueProp;\n\n    if (hasValueChanged) {\n      onChange(newValue);\n    }\n  };\n\n  var handleOnFocus = function handleOnFocus(event, index) {\n    if (focusedIndex !== index) {\n      setFocus(inputRef);\n    }\n\n    onFocus(event);\n  };\n\n  var handleOnPaste = function handleOnPaste(event) {\n    onChange(getNumbersFromClipboard(event.clipboardData.getData('Text')));\n  };\n\n  return React.createElement(StyledFieldset, {\n    className: className,\n    style: style,\n    id: id\n  }, React.createElement(RenderIf, {\n    isTrue: label\n  }, React.createElement(Label, {\n    label: label,\n    labelAlignment: labelAlignment,\n    hideLabel: hideLabel,\n    required: required,\n    as: \"legend\"\n  })), React.createElement(InputItems, {\n    value: value,\n    disabled: disabled,\n    readOnly: readOnly,\n    error: error,\n    tabIndex: tabIndex,\n    onClick: onClick,\n    onChange: handleOnChange,\n    onFocus: handleOnFocus,\n    onBlur: onBlur,\n    onKeyDown: onKeyDown,\n    onPaste: handleOnPaste,\n    focusedIndex: focusedIndex,\n    ref: inputRef\n  }), React.createElement(RenderIf, {\n    isTrue: bottomHelpText\n  }, React.createElement(StyledHelpText, null, bottomHelpText)), React.createElement(RenderIf, {\n    isTrue: error\n  }, React.createElement(StyledErrorMessage, null, error)));\n});\nCodeInput.propTypes = {\n  id: PropTypes.string,\n  value: PropTypes.string,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  labelAlignment: PropTypes.oneOf(['left', 'center', 'right']),\n  hideLabel: PropTypes.bool,\n  bottomHelpText: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  length: PropTypes.number,\n  disabled: PropTypes.bool,\n  required: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  error: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  onClick: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\nCodeInput.defaultProps = {\n  id: undefined,\n  value: '',\n  label: undefined,\n  labelAlignment: 'center',\n  hideLabel: false,\n  bottomHelpText: undefined,\n  length: 4,\n  disabled: false,\n  required: false,\n  readOnly: false,\n  error: null,\n  tabIndex: undefined,\n  onClick: function onClick() {},\n  onChange: function onChange() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onKeyDown: function onKeyDown() {},\n  className: undefined,\n  style: undefined\n};\nexport default CodeInput;"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,mBAA3B,EAAgDC,MAAhD,QAA8D,OAA9D;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,SAASC,oBAAT,EAA+BC,gBAA/B,EAAiDC,aAAjD,QAAsE,SAAtE;AACA,SAASC,kBAAT,EAA6BC,uBAA7B,EAAsDC,QAAtD,QAAsE,WAAtE;AACA,SAASC,kBAAT,EAA6BC,cAA7B,EAA6CC,cAA7C,QAAmE,UAAnE;AACA,IAAIC,SAAS,GAAGlB,KAAK,CAACmB,UAAN,CAAiB,UAAUC,KAAV,EAAiBC,GAAjB,EAAsB;EACrD,IAAIC,aAAa,GAAGd,YAAY,CAACY,KAAD,CAAhC;EAAA,IACIG,EAAE,GAAGD,aAAa,CAACC,EADvB;EAAA,IAEIC,SAAS,GAAGF,aAAa,CAACG,KAF9B;EAAA,IAGIC,KAAK,GAAGJ,aAAa,CAACI,KAH1B;EAAA,IAIIC,cAAc,GAAGL,aAAa,CAACK,cAJnC;EAAA,IAKIC,SAAS,GAAGN,aAAa,CAACM,SAL9B;EAAA,IAMIC,cAAc,GAAGP,aAAa,CAACO,cANnC;EAAA,IAOIC,MAAM,GAAGR,aAAa,CAACQ,MAP3B;EAAA,IAQIC,QAAQ,GAAGT,aAAa,CAACS,QAR7B;EAAA,IASIC,QAAQ,GAAGV,aAAa,CAACU,QAT7B;EAAA,IAUIC,QAAQ,GAAGX,aAAa,CAACW,QAV7B;EAAA,IAWIC,KAAK,GAAGZ,aAAa,CAACY,KAX1B;EAAA,IAYIC,QAAQ,GAAGb,aAAa,CAACa,QAZ7B;EAAA,IAaIC,OAAO,GAAGd,aAAa,CAACc,OAb5B;EAAA,IAcIC,QAAQ,GAAGf,aAAa,CAACe,QAd7B;EAAA,IAeIC,OAAO,GAAGhB,aAAa,CAACgB,OAf5B;EAAA,IAgBIC,MAAM,GAAGjB,aAAa,CAACiB,MAhB3B;EAAA,IAiBIC,SAAS,GAAGlB,aAAa,CAACkB,SAjB9B;EAAA,IAkBIC,SAAS,GAAGnB,aAAa,CAACmB,SAlB9B;EAAA,IAmBIC,KAAK,GAAGpB,aAAa,CAACoB,KAnB1B;;EAqBA,IAAIC,QAAQ,GAAGxC,MAAM,EAArB;EACA,IAAIsB,KAAK,GAAGd,aAAa,CAACa,SAAD,EAAYM,MAAZ,CAAzB;EACA,IAAIc,YAAY,GAAGnC,oBAAoB,CAACgB,KAAD,EAAQK,MAAR,EAAgBC,QAAhB,EAA0BE,QAA1B,CAAvC;EACA,IAAIY,oBAAoB,GAAGnC,gBAAgB,CAACkC,YAAD,CAA3C;EACA1C,mBAAmB,CAACmB,GAAD,EAAM,YAAY;IACnC,OAAO;MACLyB,KAAK,EAAE,SAASA,KAAT,GAAiB;QACtBH,QAAQ,CAACI,OAAT,CAAiBD,KAAjB;MACD,CAHI;MAILE,KAAK,EAAE,SAASA,KAAT,GAAiB;QACtBL,QAAQ,CAACI,OAAT,CAAiBC,KAAjB;MACD,CANI;MAOLC,IAAI,EAAE,SAASA,IAAT,GAAgB;QACpBN,QAAQ,CAACI,OAAT,CAAiBE,IAAjB;MACD;IATI,CAAP;EAWD,CAZkB,CAAnB;EAaAhD,SAAS,CAAC,YAAY;IACpB,IAAI4C,oBAAoB,KAAKK,SAA7B,EAAwC;MACtCpC,QAAQ,CAAC6B,QAAD,CAAR;IACD;EACF,CAJQ,EAIN,CAACA,QAAD,EAAWC,YAAX,EAAyBC,oBAAzB,CAJM,CAAT;;EAMA,IAAIM,cAAc,GAAG,SAASA,cAAT,CAAwBC,UAAxB,EAAoCC,KAApC,EAA2C;IAC9D,IAAIC,QAAQ,GAAG1C,kBAAkB,CAACwC,UAAD,EAAaC,KAAb,EAAoB5B,KAApB,CAAjC;IACA,IAAI8B,eAAe,GAAGD,QAAQ,KAAK9B,SAAnC;;IAEA,IAAI+B,eAAJ,EAAqB;MACnBlB,QAAQ,CAACiB,QAAD,CAAR;IACD;EACF,CAPD;;EASA,IAAIE,aAAa,GAAG,SAASA,aAAT,CAAuBC,KAAvB,EAA8BJ,KAA9B,EAAqC;IACvD,IAAIT,YAAY,KAAKS,KAArB,EAA4B;MAC1BvC,QAAQ,CAAC6B,QAAD,CAAR;IACD;;IAEDL,OAAO,CAACmB,KAAD,CAAP;EACD,CAND;;EAQA,IAAIC,aAAa,GAAG,SAASA,aAAT,CAAuBD,KAAvB,EAA8B;IAChDpB,QAAQ,CAACxB,uBAAuB,CAAC4C,KAAK,CAACE,aAAN,CAAoBC,OAApB,CAA4B,MAA5B,CAAD,CAAxB,CAAR;EACD,CAFD;;EAIA,OAAO5D,KAAK,CAAC6D,aAAN,CAAoB7C,cAApB,EAAoC;IACzCyB,SAAS,EAAEA,SAD8B;IAEzCC,KAAK,EAAEA,KAFkC;IAGzCnB,EAAE,EAAEA;EAHqC,CAApC,EAIJvB,KAAK,CAAC6D,aAAN,CAAoBvD,QAApB,EAA8B;IAC/BwD,MAAM,EAAEpC;EADuB,CAA9B,EAEA1B,KAAK,CAAC6D,aAAN,CAAoBtD,KAApB,EAA2B;IAC5BmB,KAAK,EAAEA,KADqB;IAE5BC,cAAc,EAAEA,cAFY;IAG5BC,SAAS,EAAEA,SAHiB;IAI5BI,QAAQ,EAAEA,QAJkB;IAK5B+B,EAAE,EAAE;EALwB,CAA3B,CAFA,CAJI,EAYF/D,KAAK,CAAC6D,aAAN,CAAoBxD,UAApB,EAAgC;IACnCoB,KAAK,EAAEA,KAD4B;IAEnCM,QAAQ,EAAEA,QAFyB;IAGnCE,QAAQ,EAAEA,QAHyB;IAInCC,KAAK,EAAEA,KAJ4B;IAKnCC,QAAQ,EAAEA,QALyB;IAMnCC,OAAO,EAAEA,OAN0B;IAOnCC,QAAQ,EAAEc,cAPyB;IAQnCb,OAAO,EAAEkB,aAR0B;IASnCjB,MAAM,EAAEA,MAT2B;IAUnCC,SAAS,EAAEA,SAVwB;IAWnCwB,OAAO,EAAEN,aAX0B;IAYnCd,YAAY,EAAEA,YAZqB;IAanCvB,GAAG,EAAEsB;EAb8B,CAAhC,CAZE,EA0BH3C,KAAK,CAAC6D,aAAN,CAAoBvD,QAApB,EAA8B;IAChCwD,MAAM,EAAEjC;EADwB,CAA9B,EAED7B,KAAK,CAAC6D,aAAN,CAAoB5C,cAApB,EAAoC,IAApC,EAA0CY,cAA1C,CAFC,CA1BG,EA4BwD7B,KAAK,CAAC6D,aAAN,CAAoBvD,QAApB,EAA8B;IAC3FwD,MAAM,EAAE5B;EADmF,CAA9B,EAE5DlC,KAAK,CAAC6D,aAAN,CAAoB9C,kBAApB,EAAwC,IAAxC,EAA8CmB,KAA9C,CAF4D,CA5BxD,CAAP;AA+BD,CAjGe,CAAhB;AAkGAhB,SAAS,CAAC+C,SAAV,GAAsB;EACpB1C,EAAE,EAAEnB,SAAS,CAAC8D,MADM;EAEpBzC,KAAK,EAAErB,SAAS,CAAC8D,MAFG;EAGpBxC,KAAK,EAAEtB,SAAS,CAAC+D,SAAV,CAAoB,CAAC/D,SAAS,CAAC8D,MAAX,EAAmB9D,SAAS,CAACgE,IAA7B,CAApB,CAHa;EAIpBzC,cAAc,EAAEvB,SAAS,CAACiE,KAAV,CAAgB,CAAC,MAAD,EAAS,QAAT,EAAmB,OAAnB,CAAhB,CAJI;EAKpBzC,SAAS,EAAExB,SAAS,CAACkE,IALD;EAMpBzC,cAAc,EAAEzB,SAAS,CAAC+D,SAAV,CAAoB,CAAC/D,SAAS,CAAC8D,MAAX,EAAmB9D,SAAS,CAACgE,IAA7B,CAApB,CANI;EAOpBtC,MAAM,EAAE1B,SAAS,CAACmE,MAPE;EAQpBxC,QAAQ,EAAE3B,SAAS,CAACkE,IARA;EASpBtC,QAAQ,EAAE5B,SAAS,CAACkE,IATA;EAUpBrC,QAAQ,EAAE7B,SAAS,CAACkE,IAVA;EAWpBpC,KAAK,EAAE9B,SAAS,CAAC+D,SAAV,CAAoB,CAAC/D,SAAS,CAAC8D,MAAX,EAAmB9D,SAAS,CAACgE,IAA7B,CAApB,CAXa;EAYpBjC,QAAQ,EAAE/B,SAAS,CAAC+D,SAAV,CAAoB,CAAC/D,SAAS,CAACmE,MAAX,EAAmBnE,SAAS,CAAC8D,MAA7B,CAApB,CAZU;EAapB9B,OAAO,EAAEhC,SAAS,CAACoE,IAbC;EAcpBnC,QAAQ,EAAEjC,SAAS,CAACoE,IAdA;EAepBlC,OAAO,EAAElC,SAAS,CAACoE,IAfC;EAgBpBjC,MAAM,EAAEnC,SAAS,CAACoE,IAhBE;EAiBpBhC,SAAS,EAAEpC,SAAS,CAACoE,IAjBD;EAkBpB/B,SAAS,EAAErC,SAAS,CAAC8D,MAlBD;EAmBpBxB,KAAK,EAAEtC,SAAS,CAACqE;AAnBG,CAAtB;AAqBAvD,SAAS,CAACwD,YAAV,GAAyB;EACvBnD,EAAE,EAAE2B,SADmB;EAEvBzB,KAAK,EAAE,EAFgB;EAGvBC,KAAK,EAAEwB,SAHgB;EAIvBvB,cAAc,EAAE,QAJO;EAKvBC,SAAS,EAAE,KALY;EAMvBC,cAAc,EAAEqB,SANO;EAOvBpB,MAAM,EAAE,CAPe;EAQvBC,QAAQ,EAAE,KARa;EASvBC,QAAQ,EAAE,KATa;EAUvBC,QAAQ,EAAE,KAVa;EAWvBC,KAAK,EAAE,IAXgB;EAYvBC,QAAQ,EAAEe,SAZa;EAavBd,OAAO,EAAE,SAASA,OAAT,GAAmB,CAAE,CAbP;EAcvBC,QAAQ,EAAE,SAASA,QAAT,GAAoB,CAAE,CAdT;EAevBC,OAAO,EAAE,SAASA,OAAT,GAAmB,CAAE,CAfP;EAgBvBC,MAAM,EAAE,SAASA,MAAT,GAAkB,CAAE,CAhBL;EAiBvBC,SAAS,EAAE,SAASA,SAAT,GAAqB,CAAE,CAjBX;EAkBvBC,SAAS,EAAES,SAlBY;EAmBvBR,KAAK,EAAEQ;AAnBgB,CAAzB;AAqBA,eAAehC,SAAf"},"metadata":{},"sourceType":"module"}