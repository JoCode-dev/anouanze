{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _toArray from \"@babel/runtime/helpers/toArray\";\nimport InternalOverlay from '../InternalOverlay';\nvar DEFAULT_MARGIN = 5;\n\nfunction getRefIndex(nodes, ref) {\n  return nodes.indexOf(ref);\n}\n\nfunction sortChildren(childrenRefs, nodes) {\n  var _childrenRefs = _toArray(childrenRefs),\n      newChildrenRefs = _childrenRefs.slice(0);\n\n  newChildrenRefs.sort(function (refA, refB) {\n    return getRefIndex(nodes, refA) - getRefIndex(nodes, refB);\n  });\n  return newChildrenRefs;\n}\n\nexport function insertChildOrderly(childrenRefs, childRef, nodes) {\n  var newChildrenRefs = childrenRefs.concat([childRef]);\n  var sortedChildren = sortChildren(newChildrenRefs, nodes);\n  return sortedChildren;\n}\nexport function findItemByKey(key, childrenRefs, fromIndex) {\n  var head = childrenRefs.slice(0, fromIndex);\n  var tail = childrenRefs.slice(fromIndex + 1);\n  return [].concat(_toConsumableArray(tail), _toConsumableArray(head)).find(function (child) {\n    return child.innerText.toLowerCase().indexOf(key.toLowerCase()) === 0;\n  });\n}\nexport function findItemIndex(childrenRefs, item) {\n  return childrenRefs.findIndex(function (child) {\n    return child === item;\n  });\n}\nexport function getChildMenuItemNodes(ref) {\n  if (ref) {\n    return ref.querySelectorAll('[role=\"menuitem\"]');\n  }\n\n  return [];\n}\nexport function isPrintableCharacter(str) {\n  if (typeof str !== 'string') return false;\n  return str.length === 1 && /\\S/.test(str);\n}\n\nfunction getDesiredPosition(options, alignment, margin) {\n  var _options$trigger = options.trigger,\n      leftUpAnchor = _options$trigger.leftUpAnchor,\n      leftBottomAnchor = _options$trigger.leftBottomAnchor,\n      rightUpAnchor = _options$trigger.rightUpAnchor,\n      rightBottomAnchor = _options$trigger.rightBottomAnchor,\n      triggerWidth = _options$trigger.width,\n      _options$content = options.content,\n      contentWidth = _options$content.width,\n      contentHeight = _options$content.height;\n\n  if (alignment === 'right') {\n    return {\n      left: rightBottomAnchor.x - contentWidth,\n      top: rightBottomAnchor.y + margin\n    };\n  }\n\n  if (alignment === 'bottom') {\n    return {\n      left: leftUpAnchor.x + (triggerWidth - contentWidth) / 2,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  if (alignment === 'center') {\n    return {\n      left: leftBottomAnchor.x + (triggerWidth - contentWidth) / 2,\n      top: leftBottomAnchor.y + margin\n    };\n  }\n\n  if (alignment === 'bottom-right') {\n    return {\n      left: rightUpAnchor.x - contentWidth,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  if (alignment === 'bottom-left') {\n    return {\n      left: leftUpAnchor.x,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  return {\n    left: leftBottomAnchor.x,\n    top: leftBottomAnchor.y + margin\n  };\n}\n\nexport function resolvePosition(options, alignment) {\n  var defaultPosition = InternalOverlay.defaultPositionResolver(options);\n  var desiredPosition = getDesiredPosition(options, alignment, DEFAULT_MARGIN);\n  var _options$viewport = options.viewport,\n      viewportWidth = _options$viewport.width,\n      viewportHeight = _options$viewport.height,\n      _options$content2 = options.content,\n      contentWidth = _options$content2.width,\n      contentHeight = _options$content2.height;\n\n  if (viewportWidth - (desiredPosition.left + contentWidth) >= 0 && viewportHeight - (desiredPosition.top + contentHeight) >= 0) {\n    return desiredPosition;\n  }\n\n  return defaultPosition;\n}","map":{"version":3,"names":["_toConsumableArray","_toArray","InternalOverlay","DEFAULT_MARGIN","getRefIndex","nodes","ref","indexOf","sortChildren","childrenRefs","_childrenRefs","newChildrenRefs","slice","sort","refA","refB","insertChildOrderly","childRef","concat","sortedChildren","findItemByKey","key","fromIndex","head","tail","find","child","innerText","toLowerCase","findItemIndex","item","findIndex","getChildMenuItemNodes","querySelectorAll","isPrintableCharacter","str","length","test","getDesiredPosition","options","alignment","margin","_options$trigger","trigger","leftUpAnchor","leftBottomAnchor","rightUpAnchor","rightBottomAnchor","triggerWidth","width","_options$content","content","contentWidth","contentHeight","height","left","x","top","y","resolvePosition","defaultPosition","defaultPositionResolver","desiredPosition","_options$viewport","viewport","viewportWidth","viewportHeight","_options$content2"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/node_modules/react-rainbow-components/esm/components/PrimitiveMenu/utils.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _toArray from \"@babel/runtime/helpers/toArray\";\nimport InternalOverlay from '../InternalOverlay';\nvar DEFAULT_MARGIN = 5;\n\nfunction getRefIndex(nodes, ref) {\n  return nodes.indexOf(ref);\n}\n\nfunction sortChildren(childrenRefs, nodes) {\n  var _childrenRefs = _toArray(childrenRefs),\n      newChildrenRefs = _childrenRefs.slice(0);\n\n  newChildrenRefs.sort(function (refA, refB) {\n    return getRefIndex(nodes, refA) - getRefIndex(nodes, refB);\n  });\n  return newChildrenRefs;\n}\n\nexport function insertChildOrderly(childrenRefs, childRef, nodes) {\n  var newChildrenRefs = childrenRefs.concat([childRef]);\n  var sortedChildren = sortChildren(newChildrenRefs, nodes);\n  return sortedChildren;\n}\nexport function findItemByKey(key, childrenRefs, fromIndex) {\n  var head = childrenRefs.slice(0, fromIndex);\n  var tail = childrenRefs.slice(fromIndex + 1);\n  return [].concat(_toConsumableArray(tail), _toConsumableArray(head)).find(function (child) {\n    return child.innerText.toLowerCase().indexOf(key.toLowerCase()) === 0;\n  });\n}\nexport function findItemIndex(childrenRefs, item) {\n  return childrenRefs.findIndex(function (child) {\n    return child === item;\n  });\n}\nexport function getChildMenuItemNodes(ref) {\n  if (ref) {\n    return ref.querySelectorAll('[role=\"menuitem\"]');\n  }\n\n  return [];\n}\nexport function isPrintableCharacter(str) {\n  if (typeof str !== 'string') return false;\n  return str.length === 1 && /\\S/.test(str);\n}\n\nfunction getDesiredPosition(options, alignment, margin) {\n  var _options$trigger = options.trigger,\n      leftUpAnchor = _options$trigger.leftUpAnchor,\n      leftBottomAnchor = _options$trigger.leftBottomAnchor,\n      rightUpAnchor = _options$trigger.rightUpAnchor,\n      rightBottomAnchor = _options$trigger.rightBottomAnchor,\n      triggerWidth = _options$trigger.width,\n      _options$content = options.content,\n      contentWidth = _options$content.width,\n      contentHeight = _options$content.height;\n\n  if (alignment === 'right') {\n    return {\n      left: rightBottomAnchor.x - contentWidth,\n      top: rightBottomAnchor.y + margin\n    };\n  }\n\n  if (alignment === 'bottom') {\n    return {\n      left: leftUpAnchor.x + (triggerWidth - contentWidth) / 2,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  if (alignment === 'center') {\n    return {\n      left: leftBottomAnchor.x + (triggerWidth - contentWidth) / 2,\n      top: leftBottomAnchor.y + margin\n    };\n  }\n\n  if (alignment === 'bottom-right') {\n    return {\n      left: rightUpAnchor.x - contentWidth,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  if (alignment === 'bottom-left') {\n    return {\n      left: leftUpAnchor.x,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  return {\n    left: leftBottomAnchor.x,\n    top: leftBottomAnchor.y + margin\n  };\n}\n\nexport function resolvePosition(options, alignment) {\n  var defaultPosition = InternalOverlay.defaultPositionResolver(options);\n  var desiredPosition = getDesiredPosition(options, alignment, DEFAULT_MARGIN);\n  var _options$viewport = options.viewport,\n      viewportWidth = _options$viewport.width,\n      viewportHeight = _options$viewport.height,\n      _options$content2 = options.content,\n      contentWidth = _options$content2.width,\n      contentHeight = _options$content2.height;\n\n  if (viewportWidth - (desiredPosition.left + contentWidth) >= 0 && viewportHeight - (desiredPosition.top + contentHeight) >= 0) {\n    return desiredPosition;\n  }\n\n  return defaultPosition;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}