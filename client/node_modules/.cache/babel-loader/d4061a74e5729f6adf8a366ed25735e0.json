{"ast":null,"code":"import _asyncToGenerator from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";import Cookies from\"js-cookie\";var url=\"https://anouanze.herokuapp.com\";axios.interceptors.request.use(function(req){if(localStorage.getItem(\"jwt\")){req.headers.Authorization=\"Bearer \".concat(JSON.parse(localStorage.getItem(\"jwt\")).token);}return req;});axios.defaults.withCredentials=true;// Authentication\nexport var register=function register(userData){return axios.post(\"\".concat(url,\"/user/register\"),userData);};export var login=function login(user){return axios.post(\"\".concat(url,\"/user/login\"),user);};var removeCookie=function removeCookie(key,value){if(window!==undefined){Cookies.remove(key,{path:\"/\"});}};export var logout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:\"GET\",url:\"\".concat(url,\"/user/logout\"),withCredentials:true}).then(function(){removeCookie(\"jwt\");localStorage.clear();});case 2:// .catch((err) => console.log(err));\nwindow.location=\"/\";case 3:case\"end\":return _context.stop();}}},_callee);}));return function logout(){return _ref.apply(this,arguments);};}();// User\nexport var getUser=function getUser(id){return axios.get(\"\".concat(url,\"/user/\").concat(id));};export var getAllUsers=function getAllUsers(){return axios.get(\"\".concat(url,\"/user\"));};export var updateUser=function updateUser(id,user){return axios.patch(\"\".concat(url,\"/user/\").concat(id),user);};// Paroisse\nexport var createParoisse=function createParoisse(data){return axios.post(\"\".concat(url,\"/paroisse/\"),data);};export var updateParoisse=function updateParoisse(id,data){return axios.patch(\"\".concat(url,\"/paroisse/\").concat(id),data);};export var deleteParoisse=function deleteParoisse(id){return axios.delete(\"\".concat(url,\"/paroisse/\").concat(id));};export var chooseParoisse=function chooseParoisse(id,userId){return axios.patch(\"\".concat(url,\"/paroisse/choose-paroisse/\").concat(id),{userId:userId});};export var unchooseParoisse=function unchooseParoisse(id,userId){return axios.patch(\"\".concat(url,\"/paroisse/unchoose-paroisse/\").concat(id),{userId:userId});};export var getParoisses=function getParoisses(){return axios.get(\"\".concat(url,\"/paroisse\"));};export var getParoisse=function getParoisse(id){return axios.get(\"\".concat(url,\"/paroisse/\").concat(id));};// Clergy\nexport var addPriest=function addPriest(id,data){return axios.patch(\"\".concat(url,\"/add-clergy/\").concat(id),data);};export var removePriest=function removePriest(id,data){return axios.patch(\"\".concat(url,\"/remove-clergy/\").concat(id),data);};// Event\nexport var createEvent=function createEvent(data){return axios.post(\"\".concat(url,\"/event\"),data);};export var updateEvent=function updateEvent(id,data){return axios.patch(\"\".concat(url,\"/event/\").concat(id),data);};export var deleteEvent=function deleteEvent(id){return axios.delete(\"\".concat(url,\"/event/\").concat(id));};export var getAllEvents=function getAllEvents(){return axios.get(\"\".concat(url,\"/event\"));};export var getEvent=function getEvent(id){return axios.get(\"\".concat(url,\"/event/\").concat(id));};export var getPremiumEvents=function getPremiumEvents(){return axios.get(\"\".concat(url,\"/event/premium-events\"));};export var getOthersEvents=function getOthersEvents(){return axios.get(\"\".concat(url,\"/event/others-events\"));};// Actu\nexport var createActu=function createActu(data){return axios.post(\"\".concat(url,\"/actus\"),data);};export var removeActu=function removeActu(id){return axios.delete(\"\".concat(url,\"/actus/\").concat(id));};export var updateActu=function updateActu(id,data){return axios.patch(\"\".concat(url,\"/actus/\").concat(id),data);};export var getAllActus=function getAllActus(){return axios.get(\"\".concat(url,\"/actus\"));};export var getActu=function getActu(id){return axios.get(\"\".concat(url,\"/actus/\").concat(id));};export var getActusById=function getActusById(id){return axios.get(\"\".concat(url,\"/actus/paroisse/\").concat(id));};// Paroisses à proximité\nexport var getNearParoisses=function getNearParoisses(coords){return axios.get(\"\".concat(url,\"/paroisses/\").concat(coords));};// Messes\nexport var addMesses=function addMesses(id,data){return axios.patch(\"\".concat(url,\"/paroisse/add-messe/\").concat(id),data);};export var removeMesse=function removeMesse(id,messeId){return axios.patch(\"\".concat(url,\"/paroisse/remove-messe/\").concat(id),messeId);};// Confessions\nexport var addConfessions=function addConfessions(id,data){return axios.patch(\"\".concat(url,\"/paroisse/add-confession/\").concat(id),data);};export var removeConfessions=function removeConfessions(id,confessionId){return axios.patch(\"\".concat(url,\"/paroisse/remove-confession/\").concat(id),confessionId);};// Demandes\nexport var addDemande=function addDemande(data){return axios.post(\"\".concat(url,\"/demandes\"),data);};export var updateDemande=function updateDemande(id){return axios.patch(\"\".concat(url,\"/demandes/\").concat(id));};export var getDemandsByParoisse=function getDemandsByParoisse(idParoisse){return axios.get(\"\".concat(url,\"/demandes/paroisse/\").concat(idParoisse),idParoisse);};export var getDemand=function getDemand(id){return axios.get(\"\".concat(url,\"/demandes/\").concat(id));};","map":{"version":3,"names":["axios","Cookies","url","interceptors","request","use","req","localStorage","getItem","headers","Authorization","JSON","parse","token","defaults","withCredentials","register","userData","post","login","user","removeCookie","key","value","window","undefined","remove","path","logout","method","then","clear","location","getUser","id","get","getAllUsers","updateUser","patch","createParoisse","data","updateParoisse","deleteParoisse","delete","chooseParoisse","userId","unchooseParoisse","getParoisses","getParoisse","addPriest","removePriest","createEvent","updateEvent","deleteEvent","getAllEvents","getEvent","getPremiumEvents","getOthersEvents","createActu","removeActu","updateActu","getAllActus","getActu","getActusById","getNearParoisses","coords","addMesses","removeMesse","messeId","addConfessions","removeConfessions","confessionId","addDemande","updateDemande","getDemandsByParoisse","idParoisse","getDemand"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/src/api/index.js"],"sourcesContent":["import axios from \"axios\";\nimport Cookies from \"js-cookie\";\nconst url = `https://anouanze.herokuapp.com`;\n\naxios.interceptors.request.use((req) => {\n  if (localStorage.getItem(\"jwt\")) {\n    req.headers.Authorization = `Bearer ${\n      JSON.parse(localStorage.getItem(\"jwt\")).token\n    }`;\n  }\n\n  return req;\n});\n\naxios.defaults.withCredentials = true;\n\n// Authentication\nexport const register = (userData) =>\n  axios.post(`${url}/user/register`, userData);\n\nexport const login = (user) => axios.post(`${url}/user/login`, user);\n\nconst removeCookie = (key, value) => {\n  if (window !== undefined) {\n    Cookies.remove(key, { path: \"/\" });\n  }\n};\n\nexport const logout = async () => {\n  await axios({\n    method: \"GET\",\n    url: `${url}/user/logout`,\n    withCredentials: true,\n  }).then(() => {\n    removeCookie(\"jwt\");\n    localStorage.clear();\n  });\n  // .catch((err) => console.log(err));\n\n  window.location = \"/\";\n};\n\n// User\nexport const getUser = (id) => axios.get(`${url}/user/${id}`);\nexport const getAllUsers = () => axios.get(`${url}/user`);\nexport const updateUser = (id, user) => axios.patch(`${url}/user/${id}`, user);\n\n// Paroisse\nexport const createParoisse = (data) => axios.post(`${url}/paroisse/`, data);\nexport const updateParoisse = (id, data) =>\n  axios.patch(`${url}/paroisse/${id}`, data);\nexport const deleteParoisse = (id) => axios.delete(`${url}/paroisse/${id}`);\nexport const chooseParoisse = (id, userId) =>\n  axios.patch(`${url}/paroisse/choose-paroisse/${id}`, { userId });\n\nexport const unchooseParoisse = (id, userId) =>\n  axios.patch(`${url}/paroisse/unchoose-paroisse/${id}`, { userId });\n\nexport const getParoisses = () => axios.get(`${url}/paroisse`);\nexport const getParoisse = (id) => axios.get(`${url}/paroisse/${id}`);\n\n// Clergy\nexport const addPriest = (id, data) =>\n  axios.patch(`${url}/add-clergy/${id}`, data);\n\nexport const removePriest = (id, data) =>\n  axios.patch(`${url}/remove-clergy/${id}`, data);\n\n// Event\nexport const createEvent = (data) => axios.post(`${url}/event`, data);\nexport const updateEvent = (id, data) =>\n  axios.patch(`${url}/event/${id}`, data);\nexport const deleteEvent = (id) => axios.delete(`${url}/event/${id}`);\nexport const getAllEvents = () => axios.get(`${url}/event`);\nexport const getEvent = (id) => axios.get(`${url}/event/${id}`);\nexport const getPremiumEvents = () => axios.get(`${url}/event/premium-events`);\nexport const getOthersEvents = () => axios.get(`${url}/event/others-events`);\n\n// Actu\nexport const createActu = (data) => axios.post(`${url}/actus`, data);\nexport const removeActu = (id) => axios.delete(`${url}/actus/${id}`);\nexport const updateActu = (id, data) => axios.patch(`${url}/actus/${id}`, data);\nexport const getAllActus = () => axios.get(`${url}/actus`);\nexport const getActu = (id) => axios.get(`${url}/actus/${id}`);\nexport const getActusById = (id) => axios.get(`${url}/actus/paroisse/${id}`);\n\n// Paroisses à proximité\nexport const getNearParoisses = (coords) =>\n  axios.get(`${url}/paroisses/${coords}`);\n\n// Messes\nexport const addMesses = (id, data) =>\n  axios.patch(`${url}/paroisse/add-messe/${id}`, data);\nexport const removeMesse = (id, messeId) =>\n  axios.patch(`${url}/paroisse/remove-messe/${id}`, messeId);\n\n// Confessions\nexport const addConfessions = (id, data) =>\n  axios.patch(`${url}/paroisse/add-confession/${id}`, data);\nexport const removeConfessions = (id, confessionId) =>\n  axios.patch(`${url}/paroisse/remove-confession/${id}`, confessionId);\n\n// Demandes\nexport const addDemande = (data) => axios.post(`${url}/demandes`, data);\nexport const updateDemande = (id) => axios.patch(`${url}/demandes/${id}`);\nexport const getDemandsByParoisse = (idParoisse) =>\n  axios.get(`${url}/demandes/paroisse/${idParoisse}`, idParoisse);\nexport const getDemand = (id) => axios.get(`${url}/demandes/${id}`);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}