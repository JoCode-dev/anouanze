{"ast":null,"code":"import _toArray from \"@babel/runtime/helpers/toArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useCallback, useRef, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Provider } from './context';\nimport { insertChildOrderly, getChildMenuItemNodes } from './utils';\nimport useArrowKeyNav from './hooks/useArrowKeyNav';\nimport Spinner from '../Spinner';\nimport { StyledContent } from './styled';\nexport default function MenuContent(props) {\n  var children = props.children,\n      isLoading = props.isLoading,\n      ariaLabel = props.ariaLabel,\n      onRequestClose = props.onRequestClose;\n  var childrenRefs = useRef([]);\n  var containerRef = useRef();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      childCount = _useState2[0],\n      setChildCount = _useState2[1];\n\n  var _useArrowKeyNav = useArrowKeyNav({\n    childrenRefs: childrenRefs.current,\n    isLoading: isLoading\n  }),\n      focusedChildIndex = _useArrowKeyNav.focusedChildIndex,\n      keyDownHandler = _useArrowKeyNav.handleKeyPress,\n      focusMatchedItem = _useArrowKeyNav.focusMatchedItem,\n      clearFocusedChild = _useArrowKeyNav.clearFocusedChild,\n      focusChild = _useArrowKeyNav.focusChild;\n\n  var privateOnClose = useCallback(function () {\n    clearFocusedChild();\n    onRequestClose();\n  }, [clearFocusedChild, onRequestClose]);\n  var privateOnHover = useCallback(function (event, childRef) {\n    return focusMatchedItem(childRef);\n  }, [focusMatchedItem]);\n  var privateRegisterChild = useCallback(function (childRef) {\n    if (childRef) {\n      var _getChildMenuItemNode = getChildMenuItemNodes(containerRef.current),\n          _getChildMenuItemNode2 = _toArray(_getChildMenuItemNode),\n          nodes = _getChildMenuItemNode2.slice(0);\n\n      childrenRefs.current = insertChildOrderly(childrenRefs.current, childRef, nodes);\n      setChildCount(childrenRefs.current.length);\n    }\n  }, []);\n  var privateUnregisterChild = useCallback(function (childRef) {\n    if (childRef) {\n      childrenRefs.current = childrenRefs.current.filter(function (child) {\n        return child !== childRef;\n      });\n      setChildCount(childrenRefs.current.length);\n    }\n  }, []);\n  useEffect(function () {\n    if (!isLoading && childCount > 0) {\n      focusChild(focusedChildIndex || 0);\n    }\n  }, [isLoading, childCount, focusChild, focusedChildIndex]);\n\n  if (isLoading) {\n    return React.createElement(Spinner, {\n      assistiveText: \"loading menu\",\n      isVisible: true,\n      size: \"small\"\n    });\n  }\n\n  return React.createElement(StyledContent, {\n    ref: containerRef,\n    role: \"menu\",\n    \"aria-label\": ariaLabel,\n    onKeyDown: keyDownHandler\n  }, React.createElement(Provider, {\n    value: {\n      privateOnClose: privateOnClose,\n      privateOnHover: privateOnHover,\n      privateRegisterChild: privateRegisterChild,\n      privateUnregisterChild: privateUnregisterChild\n    }\n  }, children));\n}\nMenuContent.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object\n};\nMenuContent.defaultProps = {\n  className: '',\n  style: {}\n};","map":{"version":3,"names":["_toArray","_slicedToArray","React","useCallback","useRef","useState","useEffect","PropTypes","Provider","insertChildOrderly","getChildMenuItemNodes","useArrowKeyNav","Spinner","StyledContent","MenuContent","props","children","isLoading","ariaLabel","onRequestClose","childrenRefs","containerRef","_useState","_useState2","childCount","setChildCount","_useArrowKeyNav","current","focusedChildIndex","keyDownHandler","handleKeyPress","focusMatchedItem","clearFocusedChild","focusChild","privateOnClose","privateOnHover","event","childRef","privateRegisterChild","_getChildMenuItemNode","_getChildMenuItemNode2","nodes","slice","length","privateUnregisterChild","filter","child","createElement","assistiveText","isVisible","size","ref","role","onKeyDown","value","propTypes","className","string","style","object","defaultProps"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/node_modules/react-rainbow-components/esm/components/PrimitiveMenu/menuContent.js"],"sourcesContent":["import _toArray from \"@babel/runtime/helpers/toArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useCallback, useRef, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Provider } from './context';\nimport { insertChildOrderly, getChildMenuItemNodes } from './utils';\nimport useArrowKeyNav from './hooks/useArrowKeyNav';\nimport Spinner from '../Spinner';\nimport { StyledContent } from './styled';\nexport default function MenuContent(props) {\n  var children = props.children,\n      isLoading = props.isLoading,\n      ariaLabel = props.ariaLabel,\n      onRequestClose = props.onRequestClose;\n  var childrenRefs = useRef([]);\n  var containerRef = useRef();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      childCount = _useState2[0],\n      setChildCount = _useState2[1];\n\n  var _useArrowKeyNav = useArrowKeyNav({\n    childrenRefs: childrenRefs.current,\n    isLoading: isLoading\n  }),\n      focusedChildIndex = _useArrowKeyNav.focusedChildIndex,\n      keyDownHandler = _useArrowKeyNav.handleKeyPress,\n      focusMatchedItem = _useArrowKeyNav.focusMatchedItem,\n      clearFocusedChild = _useArrowKeyNav.clearFocusedChild,\n      focusChild = _useArrowKeyNav.focusChild;\n\n  var privateOnClose = useCallback(function () {\n    clearFocusedChild();\n    onRequestClose();\n  }, [clearFocusedChild, onRequestClose]);\n  var privateOnHover = useCallback(function (event, childRef) {\n    return focusMatchedItem(childRef);\n  }, [focusMatchedItem]);\n  var privateRegisterChild = useCallback(function (childRef) {\n    if (childRef) {\n      var _getChildMenuItemNode = getChildMenuItemNodes(containerRef.current),\n          _getChildMenuItemNode2 = _toArray(_getChildMenuItemNode),\n          nodes = _getChildMenuItemNode2.slice(0);\n\n      childrenRefs.current = insertChildOrderly(childrenRefs.current, childRef, nodes);\n      setChildCount(childrenRefs.current.length);\n    }\n  }, []);\n  var privateUnregisterChild = useCallback(function (childRef) {\n    if (childRef) {\n      childrenRefs.current = childrenRefs.current.filter(function (child) {\n        return child !== childRef;\n      });\n      setChildCount(childrenRefs.current.length);\n    }\n  }, []);\n  useEffect(function () {\n    if (!isLoading && childCount > 0) {\n      focusChild(focusedChildIndex || 0);\n    }\n  }, [isLoading, childCount, focusChild, focusedChildIndex]);\n\n  if (isLoading) {\n    return React.createElement(Spinner, {\n      assistiveText: \"loading menu\",\n      isVisible: true,\n      size: \"small\"\n    });\n  }\n\n  return React.createElement(StyledContent, {\n    ref: containerRef,\n    role: \"menu\",\n    \"aria-label\": ariaLabel,\n    onKeyDown: keyDownHandler\n  }, React.createElement(Provider, {\n    value: {\n      privateOnClose: privateOnClose,\n      privateOnHover: privateOnHover,\n      privateRegisterChild: privateRegisterChild,\n      privateUnregisterChild: privateUnregisterChild\n    }\n  }, children));\n}\nMenuContent.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object\n};\nMenuContent.defaultProps = {\n  className: '',\n  style: {}\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}