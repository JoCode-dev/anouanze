{"ast":null,"code":"import _objectSpread from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{GoogleLogin}from\"@react-oauth/google\";import{signup}from\"../../../actions/auth\";import jwtDecode from\"jwt-decode\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUpForm=function SignUpForm(){var _useState=useState({name:\"\",lastName:\"\",contact:\"\",email:\"\",password:\"\",confirmPassword:\"\"}),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.message;}),message=_useSelector.message;var handleSubmit=function handleSubmit(e){e.preventDefault();dispatch(signup(userData));console.log(userData);};var googleSuccess=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var decoded,googleUser,bool;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:decoded=jwtDecode(res.credential);googleUser={email:decoded===null||decoded===void 0?void 0:decoded.email,password:decoded===null||decoded===void 0?void 0:decoded.sub,confirmPassword:decoded===null||decoded===void 0?void 0:decoded.sub,name:decoded===null||decoded===void 0?void 0:decoded.given_name,contact:userData.contact,lastName:decoded===null||decoded===void 0?void 0:decoded.family_name};setUserData(_objectSpread(_objectSpread({},userData),{},{email:decoded===null||decoded===void 0?void 0:decoded.email,password:decoded===null||decoded===void 0?void 0:decoded.sub,contact:userData.contact,name:decoded===null||decoded===void 0?void 0:decoded.given,lastName:decoded===null||decoded===void 0?void 0:decoded.family_name,confirmPassword:decoded===null||decoded===void 0?void 0:decoded.sub}));bool=false;dispatch(signup(googleUser,bool));case 5:case\"end\":return _context.stop();}}},_callee);}));return function googleSuccess(_x){return _ref.apply(this,arguments);};}();var googleFailure=function googleFailure(error){console.log(\"====================================\");console.log(error);console.log(\"====================================\");console.log(\"Google Sign In was unsuccessful. Try Again later.\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Bienvenue dans l'aventure\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quidem quas maiores nisi.\"})]}),/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Pr\\xE9noms\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,name:\"name\",className:\"input-form\",value:userData.name,onChange:function onChange(e){return setUserData(_objectSpread(_objectSpread({},userData),{},{name:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Nom\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,name:\"lastName\",className:\"input-form\",value:userData.lastName,onChange:function onChange(e){return setUserData(_objectSpread(_objectSpread({},userData),{},{lastName:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"contact\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,name:\"contact\",className:\"input-form\",value:userData.contact,onChange:function onChange(e){return setUserData(_objectSpread(_objectSpread({},userData),{},{contact:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,name:\"email\",className:\"input-form\",value:userData.email,onChange:function onChange(e){return setUserData(_objectSpread(_objectSpread({},userData),{},{email:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Mot de Passe\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,minLength:6,name:\"password\",className:\"input-form\",value:userData.password,onChange:function onChange(e){return setUserData(_objectSpread(_objectSpread({},userData),{},{password:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirmez le mot de passe\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,minLength:6,name:\"confirmPassword\",className:\"input-form\",value:userData.confirmPassword,onChange:function onChange(e){return setUserData(_objectSpread(_objectSpread({},userData),{},{confirmPassword:e.target.value}));}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inputs-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Inscription\"})}),/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:googleSuccess,onError:googleFailure,size:\"large\"})]})]});};export default SignUpForm;","map":{"version":3,"names":["React","useState","useSelector","useDispatch","GoogleLogin","signup","jwtDecode","SignUpForm","name","lastName","contact","email","password","confirmPassword","userData","setUserData","dispatch","state","message","handleSubmit","e","preventDefault","console","log","googleSuccess","res","decoded","credential","googleUser","sub","given_name","family_name","given","bool","googleFailure","error","target","value"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/src/components/Login/Forms/SignUpForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { GoogleLogin } from \"@react-oauth/google\";\n\nimport { signup } from \"../../../actions/auth\";\nimport jwtDecode from \"jwt-decode\";\n\nconst SignUpForm = () => {\n  const [userData, setUserData] = useState({\n    name: \"\",\n    lastName: \"\",\n    contact: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  const dispatch = useDispatch();\n  const { message } = useSelector((state) => state.message);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(signup(userData));\n    console.log(userData);\n  };\n\n  const googleSuccess = async (res) => {\n    const decoded = jwtDecode(res.credential);\n    const googleUser = {\n      email: decoded?.email,\n      password: decoded?.sub,\n      confirmPassword: decoded?.sub,\n      name: decoded?.given_name,\n      contact: userData.contact,\n      lastName: decoded?.family_name,\n    };\n\n    setUserData({\n      ...userData,\n      email: decoded?.email,\n      password: decoded?.sub,\n      contact: userData.contact,\n      name: decoded?.given,\n      lastName: decoded?.family_name,\n      confirmPassword: decoded?.sub,\n    });\n\n    const bool = false;\n    dispatch(signup(googleUser, bool));\n  };\n  const googleFailure = (error) => {\n    console.log(\"====================================\");\n    console.log(error);\n    console.log(\"====================================\");\n\n    console.log(\"Google Sign In was unsuccessful. Try Again later.\");\n  };\n\n  return (\n    <div className=\"sign-up-container\">\n      <div className=\"header-container\">\n        <h1>Bienvenue dans l'aventure</h1>\n        <p>\n          Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quidem quas\n          maiores nisi.\n        </p>\n      </div>\n      <form action=\"\" onSubmit={handleSubmit}>\n        <div className=\"inputs-group\">\n          <label htmlFor=\"name\">Pr√©noms</label>\n          <br />\n          <input\n            type=\"text\"\n            required\n            name=\"name\"\n            className=\"input-form\"\n            value={userData.name}\n            onChange={(e) => setUserData({ ...userData, name: e.target.value })}\n          />\n        </div>\n        <div className=\"inputs-group\">\n          <label htmlFor=\"lastName\">Nom</label>\n          <br />\n          <input\n            type=\"text\"\n            required\n            name=\"lastName\"\n            className=\"input-form\"\n            value={userData.lastName}\n            onChange={(e) =>\n              setUserData({ ...userData, lastName: e.target.value })\n            }\n          />\n        </div>\n        <div className=\"inputs-group\">\n          <label htmlFor=\"contact\">Contact</label>\n          <br />\n          <input\n            type=\"text\"\n            required\n            name=\"contact\"\n            className=\"input-form\"\n            value={userData.contact}\n            onChange={(e) =>\n              setUserData({ ...userData, contact: e.target.value })\n            }\n          />\n        </div>\n        <div className=\"inputs-group\">\n          <label htmlFor=\"email\">Email</label>\n          <br />\n          <input\n            type=\"email\"\n            required\n            name=\"email\"\n            className=\"input-form\"\n            value={userData.email}\n            onChange={(e) =>\n              setUserData({ ...userData, email: e.target.value })\n            }\n          />\n        </div>\n        <div className=\"inputs-group\">\n          <label htmlFor=\"password\">Mot de Passe</label>\n          <br />\n          <input\n            type=\"password\"\n            required\n            minLength={6}\n            name=\"password\"\n            className=\"input-form\"\n            value={userData.password}\n            onChange={(e) =>\n              setUserData({ ...userData, password: e.target.value })\n            }\n          />\n        </div>\n        <div className=\"inputs-group\">\n          <label htmlFor=\"confirmPassword\">Confirmez le mot de passe</label>\n          <br />\n          <input\n            type=\"password\"\n            required\n            minLength={6}\n            name=\"confirmPassword\"\n            className=\"input-form\"\n            value={userData.confirmPassword}\n            onChange={(e) =>\n              setUserData({ ...userData, confirmPassword: e.target.value })\n            }\n          />\n        </div>\n        <div className=\"inputs-group\">\n          <input type=\"submit\" value=\"Inscription\" />\n        </div>\n        <GoogleLogin\n          onSuccess={googleSuccess}\n          onError={googleFailure}\n          size=\"large\"\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default SignUpForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}