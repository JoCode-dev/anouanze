{"ast":null,"code":"import _asyncToGenerator from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useContext}from\"react\";import{AdminContext}from\"../../pages/AdminDashboard\";import{useDispatch}from\"react-redux\";import{logout}from\"../../actions/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LeftBar=function LeftBar(_ref){var userName=_ref.userName;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),isActive=_useState2[0],setIsActive=_useState2[1];var _useContext=useContext(AdminContext),toogleMenu=_useContext.toogleMenu;var dispatch=useDispatch();var toggleActive=function toggleActive(e){var elements=document.querySelectorAll(\".left-bar-menu-element\");toogleMenu(e.dataset.key);elements.forEach(function(e){e.classList.remove(\"active\");});e.classList.add(\"active\");};var handleLogout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(logout());localStorage.clear();window.location=\"/\";case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleLogout(){return _ref2.apply(this,arguments);};}();var handleHome=function handleHome(){window.location=\"/\";};return/*#__PURE__*/_jsxs(\"div\",{className:\"left-bar-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-bar-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/imgs/icons/church.png\",alt:\"logo\",onClick:function onClick(){return handleHome();}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:userName}),/*#__PURE__*/_jsx(\"h6\",{children:\"Administrateur\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"left-bar-menu-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-bar-menu-element active\",onClick:function onClick(e){return toggleActive(e.target);},\"data-key\":\"1\",children:\"Accueil\"}),/*#__PURE__*/_jsx(\"div\",{className:\"left-bar-menu-element\",onClick:function onClick(e){return toggleActive(e.target);},\"data-key\":\"2\",children:\"Paroisses\"}),/*#__PURE__*/_jsx(\"div\",{className:\"left-bar-menu-element\",onClick:function onClick(e){return toggleActive(e.target);},\"data-key\":\"3\",children:\"\\xC9v\\xE8nements\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"left-bar-footer\",onClick:function onClick(){return handleLogout();},children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/imgs/icons/logout.png\",alt:\"logo\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Se D\\xE9connecter\"})]})]});};export default LeftBar;","map":{"version":3,"names":["React","useState","useContext","AdminContext","useDispatch","logout","LeftBar","userName","isActive","setIsActive","toogleMenu","dispatch","toggleActive","e","elements","document","querySelectorAll","dataset","key","forEach","classList","remove","add","handleLogout","localStorage","clear","window","location","handleHome","process","env","PUBLIC_URL","target"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/src/components/AdminDashboard/LeftBar.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { AdminContext } from \"../../pages/AdminDashboard\";\nimport { useDispatch } from \"react-redux\";\nimport { logout } from \"../../actions/auth\";\n\nconst LeftBar = ({ userName }) => {\n  const [isActive, setIsActive] = useState(\"\");\n  const { toogleMenu } = useContext(AdminContext);\n  const dispatch = useDispatch();\n\n  const toggleActive = (e) => {\n    const elements = document.querySelectorAll(\".left-bar-menu-element\");\n\n    toogleMenu(e.dataset.key);\n    elements.forEach((e) => {\n      e.classList.remove(\"active\");\n    });\n    e.classList.add(\"active\");\n  };\n\n  const handleLogout = async () => {\n    dispatch(logout());\n    localStorage.clear();\n    window.location = \"/\";\n  };\n\n  const handleHome = () => {\n    window.location = \"/\";\n  };\n  return (\n    <div className=\"left-bar-container\">\n      <div className=\"left-bar-header\">\n        <img\n          src={process.env.PUBLIC_URL + \"/imgs/icons/church.png\"}\n          alt={\"logo\"}\n          onClick={() => handleHome()}\n        />\n        <div>\n          <h4>{userName}</h4>\n          <h6>Administrateur</h6>\n        </div>\n      </div>\n\n      <div className=\"left-bar-menu-container\">\n        <div\n          className=\"left-bar-menu-element active\"\n          onClick={(e) => toggleActive(e.target)}\n          data-key=\"1\"\n        >\n          Accueil\n        </div>\n        <div\n          className=\"left-bar-menu-element\"\n          onClick={(e) => toggleActive(e.target)}\n          data-key=\"2\"\n        >\n          Paroisses\n        </div>\n        <div\n          className=\"left-bar-menu-element\"\n          onClick={(e) => toggleActive(e.target)}\n          data-key=\"3\"\n        >\n          Évènements\n        </div>\n      </div>\n\n      <div className=\"left-bar-footer\" onClick={() => handleLogout()}>\n        <img\n          src={process.env.PUBLIC_URL + \"/imgs/icons/logout.png\"}\n          alt={\"logo\"}\n        />\n\n        <p>Se Déconnecter</p>\n      </div>\n    </div>\n  );\n};\n\nexport default LeftBar;\n"],"mappings":"+YAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,YAAT,KAA6B,4BAA7B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,MAAT,KAAuB,oBAAvB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CAChC,cAAgCN,QAAQ,CAAC,EAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eACA,gBAAuBP,UAAU,CAACC,YAAD,CAAjC,CAAQO,UAAR,aAAQA,UAAR,CACA,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CAEA,GAAMQ,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1B,GAAMC,SAAQ,CAAGC,QAAQ,CAACC,gBAAT,CAA0B,wBAA1B,CAAjB,CAEAN,UAAU,CAACG,CAAC,CAACI,OAAF,CAAUC,GAAX,CAAV,CACAJ,QAAQ,CAACK,OAAT,CAAiB,SAACN,CAAD,CAAO,CACtBA,CAAC,CAACO,SAAF,CAAYC,MAAZ,CAAmB,QAAnB,EACD,CAFD,EAGAR,CAAC,CAACO,SAAF,CAAYE,GAAZ,CAAgB,QAAhB,EACD,CARD,CAUA,GAAMC,aAAY,2FAAG,mIACnBZ,QAAQ,CAACN,MAAM,EAAP,CAAR,CACAmB,YAAY,CAACC,KAAb,GACAC,MAAM,CAACC,QAAP,CAAkB,GAAlB,CAHmB,sDAAH,kBAAZJ,aAAY,2CAAlB,CAMA,GAAMK,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvBF,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACD,CAFD,CAGA,mBACE,aAAK,SAAS,CAAC,oBAAf,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,YACE,GAAG,CAAEE,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyB,wBADhC,CAEE,GAAG,CAAE,MAFP,CAGE,OAAO,CAAE,yBAAMH,WAAU,EAAhB,EAHX,EADF,cAME,oCACE,oBAAKrB,QAAL,EADF,cAEE,sCAFF,GANF,GADF,cAaE,aAAK,SAAS,CAAC,yBAAf,wBACE,YACE,SAAS,CAAC,8BADZ,CAEE,OAAO,CAAE,iBAACM,CAAD,QAAOD,aAAY,CAACC,CAAC,CAACmB,MAAH,CAAnB,EAFX,CAGE,WAAS,GAHX,qBADF,cAQE,YACE,SAAS,CAAC,uBADZ,CAEE,OAAO,CAAE,iBAACnB,CAAD,QAAOD,aAAY,CAACC,CAAC,CAACmB,MAAH,CAAnB,EAFX,CAGE,WAAS,GAHX,uBARF,cAeE,YACE,SAAS,CAAC,uBADZ,CAEE,OAAO,CAAE,iBAACnB,CAAD,QAAOD,aAAY,CAACC,CAAC,CAACmB,MAAH,CAAnB,EAFX,CAGE,WAAS,GAHX,8BAfF,GAbF,cAqCE,aAAK,SAAS,CAAC,iBAAf,CAAiC,OAAO,CAAE,yBAAMT,aAAY,EAAlB,EAA1C,wBACE,YACE,GAAG,CAAEM,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyB,wBADhC,CAEE,GAAG,CAAE,MAFP,EADF,cAME,wCANF,GArCF,GADF,CAgDD,CAxED,CA0EA,cAAezB,QAAf"},"metadata":{},"sourceType":"module"}