{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../../Modal';\nimport getFileFieldsOptions from '../helpers/getFileFieldsOptions';\nimport AssignFieldModalTitle from './assignFieldModalTitle';\nimport AssignFieldModalFooter from './assignFieldModalFooter';\nimport SelectedFieldsToAssign from './selectedFieldsToAssign';\nimport Preview from './preview';\nimport StyledModalContainer from './styled/modalContainer';\nimport StyledSelect from './styled/select';\nexport default function AssignFieldModal(props) {\n  var isAssignFieldModalOpen = props.isAssignFieldModalOpen,\n      onRequestClose = props.onRequestClose,\n      columns = props.columns,\n      databaseFieldToAssign = props.databaseFieldToAssign,\n      onAssignField = props.onAssignField,\n      fieldsMap = props.fieldsMap,\n      data = props.data,\n      attributes = props.attributes;\n  var modalTitle = React.createElement(AssignFieldModalTitle, {\n    field: databaseFieldToAssign\n  });\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      fileFieldsOptions = _useState2[0],\n      setFileFieldsOptions = _useState2[1];\n\n  useEffect(function () {\n    if (fieldsMap[databaseFieldToAssign]) {\n      var options = columns.filter(function (item) {\n        return !fieldsMap[databaseFieldToAssign].split(',').includes(item);\n      });\n      return setFileFieldsOptions(getFileFieldsOptions(options));\n    }\n\n    return setFileFieldsOptions(getFileFieldsOptions(columns));\n  }, [columns, databaseFieldToAssign, fieldsMap, isAssignFieldModalOpen]);\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fileFieldsToAssign = _useState4[0],\n      setFileFieldsToAssign = _useState4[1];\n\n  var isAssignButtonDisabled = fileFieldsToAssign.length === 0;\n  useEffect(function () {\n    if (fieldsMap[databaseFieldToAssign]) {\n      return setFileFieldsToAssign(fieldsMap[databaseFieldToAssign].split(','));\n    }\n\n    return setFileFieldsToAssign([]);\n  }, [fieldsMap, databaseFieldToAssign, isAssignFieldModalOpen]);\n\n  var handleAssign = function handleAssign() {\n    onRequestClose();\n    onAssignField(databaseFieldToAssign, fileFieldsToAssign);\n  };\n\n  var selectFileField = function selectFileField(event) {\n    var value = event.target.value;\n    setFileFieldsOptions(fileFieldsOptions.filter(function (field) {\n      return field.value !== value;\n    }));\n    setFileFieldsToAssign([].concat(_toConsumableArray(fileFieldsToAssign), [value]));\n  };\n\n  var deleteFileField = function deleteFileField(value) {\n    setFileFieldsOptions([].concat(_toConsumableArray(fileFieldsOptions), [{\n      label: value,\n      value: value\n    }]));\n    setFileFieldsToAssign(fileFieldsToAssign.filter(function (field) {\n      return field !== value;\n    }));\n  };\n\n  var hasNotFileFieldsToAssign = !fileFieldsToAssign.length;\n  return React.createElement(Modal, {\n    title: modalTitle,\n    isOpen: isAssignFieldModalOpen,\n    size: \"small\",\n    onRequestClose: onRequestClose,\n    footer: React.createElement(AssignFieldModalFooter, {\n      onCancel: onRequestClose,\n      onAssign: handleAssign,\n      isAssignButtonDisabled: isAssignButtonDisabled\n    })\n  }, React.createElement(StyledModalContainer, {\n    hasNotFileFieldsToAssign: hasNotFileFieldsToAssign\n  }, React.createElement(StyledSelect, {\n    label: \"Select Field To Assign\",\n    options: fileFieldsOptions,\n    onChange: selectFileField,\n    value: \"default\"\n  }), React.createElement(SelectedFieldsToAssign, {\n    values: fileFieldsToAssign,\n    onDelete: deleteFileField\n  }), React.createElement(Preview, {\n    field: databaseFieldToAssign,\n    fileFields: fileFieldsToAssign,\n    data: data,\n    attributes: attributes\n  })));\n}\nAssignFieldModal.propTypes = {\n  isAssignFieldModalOpen: PropTypes.bool,\n  onRequestClose: PropTypes.func,\n  columns: PropTypes.array,\n  databaseFieldToAssign: PropTypes.string,\n  onAssignField: PropTypes.func,\n  fieldsMap: PropTypes.object,\n  data: PropTypes.array,\n  attributes: PropTypes.object.isRequired\n};\nAssignFieldModal.defaultProps = {\n  isAssignFieldModalOpen: false,\n  onRequestClose: function onRequestClose() {},\n  columns: [],\n  databaseFieldToAssign: '',\n  onAssignField: function onAssignField() {},\n  fieldsMap: {},\n  data: []\n};","map":{"version":3,"names":["_toConsumableArray","_slicedToArray","React","useState","useEffect","PropTypes","Modal","getFileFieldsOptions","AssignFieldModalTitle","AssignFieldModalFooter","SelectedFieldsToAssign","Preview","StyledModalContainer","StyledSelect","AssignFieldModal","props","isAssignFieldModalOpen","onRequestClose","columns","databaseFieldToAssign","onAssignField","fieldsMap","data","attributes","modalTitle","createElement","field","_useState","_useState2","fileFieldsOptions","setFileFieldsOptions","options","filter","item","split","includes","_useState3","_useState4","fileFieldsToAssign","setFileFieldsToAssign","isAssignButtonDisabled","length","handleAssign","selectFileField","event","value","target","concat","deleteFileField","label","hasNotFileFieldsToAssign","title","isOpen","size","footer","onCancel","onAssign","onChange","values","onDelete","fileFields","propTypes","bool","func","array","string","object","isRequired","defaultProps"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/node_modules/react-rainbow-components/esm/components/ImportRecordsFlow/stepThree/assignFieldModal.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../../Modal';\nimport getFileFieldsOptions from '../helpers/getFileFieldsOptions';\nimport AssignFieldModalTitle from './assignFieldModalTitle';\nimport AssignFieldModalFooter from './assignFieldModalFooter';\nimport SelectedFieldsToAssign from './selectedFieldsToAssign';\nimport Preview from './preview';\nimport StyledModalContainer from './styled/modalContainer';\nimport StyledSelect from './styled/select';\nexport default function AssignFieldModal(props) {\n  var isAssignFieldModalOpen = props.isAssignFieldModalOpen,\n      onRequestClose = props.onRequestClose,\n      columns = props.columns,\n      databaseFieldToAssign = props.databaseFieldToAssign,\n      onAssignField = props.onAssignField,\n      fieldsMap = props.fieldsMap,\n      data = props.data,\n      attributes = props.attributes;\n  var modalTitle = React.createElement(AssignFieldModalTitle, {\n    field: databaseFieldToAssign\n  });\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      fileFieldsOptions = _useState2[0],\n      setFileFieldsOptions = _useState2[1];\n\n  useEffect(function () {\n    if (fieldsMap[databaseFieldToAssign]) {\n      var options = columns.filter(function (item) {\n        return !fieldsMap[databaseFieldToAssign].split(',').includes(item);\n      });\n      return setFileFieldsOptions(getFileFieldsOptions(options));\n    }\n\n    return setFileFieldsOptions(getFileFieldsOptions(columns));\n  }, [columns, databaseFieldToAssign, fieldsMap, isAssignFieldModalOpen]);\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fileFieldsToAssign = _useState4[0],\n      setFileFieldsToAssign = _useState4[1];\n\n  var isAssignButtonDisabled = fileFieldsToAssign.length === 0;\n  useEffect(function () {\n    if (fieldsMap[databaseFieldToAssign]) {\n      return setFileFieldsToAssign(fieldsMap[databaseFieldToAssign].split(','));\n    }\n\n    return setFileFieldsToAssign([]);\n  }, [fieldsMap, databaseFieldToAssign, isAssignFieldModalOpen]);\n\n  var handleAssign = function handleAssign() {\n    onRequestClose();\n    onAssignField(databaseFieldToAssign, fileFieldsToAssign);\n  };\n\n  var selectFileField = function selectFileField(event) {\n    var value = event.target.value;\n    setFileFieldsOptions(fileFieldsOptions.filter(function (field) {\n      return field.value !== value;\n    }));\n    setFileFieldsToAssign([].concat(_toConsumableArray(fileFieldsToAssign), [value]));\n  };\n\n  var deleteFileField = function deleteFileField(value) {\n    setFileFieldsOptions([].concat(_toConsumableArray(fileFieldsOptions), [{\n      label: value,\n      value: value\n    }]));\n    setFileFieldsToAssign(fileFieldsToAssign.filter(function (field) {\n      return field !== value;\n    }));\n  };\n\n  var hasNotFileFieldsToAssign = !fileFieldsToAssign.length;\n  return React.createElement(Modal, {\n    title: modalTitle,\n    isOpen: isAssignFieldModalOpen,\n    size: \"small\",\n    onRequestClose: onRequestClose,\n    footer: React.createElement(AssignFieldModalFooter, {\n      onCancel: onRequestClose,\n      onAssign: handleAssign,\n      isAssignButtonDisabled: isAssignButtonDisabled\n    })\n  }, React.createElement(StyledModalContainer, {\n    hasNotFileFieldsToAssign: hasNotFileFieldsToAssign\n  }, React.createElement(StyledSelect, {\n    label: \"Select Field To Assign\",\n    options: fileFieldsOptions,\n    onChange: selectFileField,\n    value: \"default\"\n  }), React.createElement(SelectedFieldsToAssign, {\n    values: fileFieldsToAssign,\n    onDelete: deleteFileField\n  }), React.createElement(Preview, {\n    field: databaseFieldToAssign,\n    fileFields: fileFieldsToAssign,\n    data: data,\n    attributes: attributes\n  })));\n}\nAssignFieldModal.propTypes = {\n  isAssignFieldModalOpen: PropTypes.bool,\n  onRequestClose: PropTypes.func,\n  columns: PropTypes.array,\n  databaseFieldToAssign: PropTypes.string,\n  onAssignField: PropTypes.func,\n  fieldsMap: PropTypes.object,\n  data: PropTypes.array,\n  attributes: PropTypes.object.isRequired\n};\nAssignFieldModal.defaultProps = {\n  isAssignFieldModalOpen: false,\n  onRequestClose: function onRequestClose() {},\n  columns: [],\n  databaseFieldToAssign: '',\n  onAssignField: function onAssignField() {},\n  fieldsMap: {},\n  data: []\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}