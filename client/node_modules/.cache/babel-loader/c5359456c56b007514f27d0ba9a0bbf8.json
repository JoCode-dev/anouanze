{"ast":null,"code":"import _slicedToArray from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getAllEvents}from\"../actions/event\";import{NavLink}from\"react-router-dom\";import{isEmpty}from\"../components/utils\";import NavBar from\"../components/NavBar/NavBar\";import Footer from\"../components/Footer/Footer\";import dayjs from\"dayjs\";import\"dayjs/locale/fr\";import Loader from\"../components/Loader/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Events=function Events(){var dispatch=useDispatch();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),onLoading=_useState2[0],setOnLoading=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),onPlaceholder=_useState4[0],setOnPlaceholder=_useState4[1];var events=useSelector(function(state){return state.events;});useEffect(function(){if(onLoading){dispatch(getAllEvents());}},[dispatch,onLoading]);var newArr=!isEmpty(events)?events.sort(function(a,b){return Number(b.isPremium)-Number(a.isPremium);}):[];dayjs.locale(\"fr\");var hourParser=function hourParser(date){return dayjs(date).format(\"HH\");};var minuteParser=function minuteParser(date){return dayjs(date).format(\"mm\");};useEffect(function(){if(!isEmpty(events)){setOnLoading(false);events.map(function(event){return console.log(event);});}setTimeout(function(){setOnLoading(false);},2000);setTimeout(function(){setOnPlaceholder(false);},3000);},[events]);return/*#__PURE__*/_jsx(_Fragment,{children:onLoading?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Loader,{})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{value:\"Events\"}),/*#__PURE__*/_jsx(\"div\",{className:\"events-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"events-blocks-container\",children:isEmpty(events)||onPlaceholder?events.map(function(event){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card_load\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card_load-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card_load_extreme_title\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card_load_extreme_descripion\"})]})]})});}):events.map(function(event){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"a\",{href:event.poster,target:\"_blank\",className:\"event-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"event-poster\",children:/*#__PURE__*/_jsx(\"img\",{src:event.poster,alt:\"poster\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"event-title\",children:/*#__PURE__*/_jsx(\"h2\",{children:event.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-description\",children:[/*#__PURE__*/_jsx(\"p\",{children:event.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Lieu : \",event.address]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-sub\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"event-date\",children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/imgs/icons/calendar.png\",alt:\"calendar \"}),(event===null||event===void 0?void 0:event.dateEvent.length)===1?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"p\",{children:dayjs(event.dateEvent[0]).format(\"DD MMMM YYYY\")})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"p\",{children:[dayjs(event.dateEvent[0]).format(\"DD MMMM YYYY\"),/*#__PURE__*/_jsx(\"br\",{}),dayjs(event.dateEvent[1]).format(\"DD MMMM YYYY\")]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-time\",children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/imgs/icons/clock.png\",alt:\"calendar \"}),hourParser(event.startAt)+\"H\",\" -\",\" \",hourParser(event.endAt)+\"H\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-organizer\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Organisateur :\"}),event.organizer]})]})]})]})});})})})]})});};export default Events;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","getAllEvents","NavLink","isEmpty","NavBar","Footer","dayjs","Loader","Events","dispatch","onLoading","setOnLoading","onPlaceholder","setOnPlaceholder","events","state","newArr","sort","a","b","Number","isPremium","locale","hourParser","date","format","minuteParser","map","event","console","log","setTimeout","poster","title","description","address","process","env","PUBLIC_URL","dateEvent","length","startAt","endAt","organizer"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/src/pages/Events.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllEvents } from \"../actions/event\";\nimport { NavLink } from \"react-router-dom\";\nimport { isEmpty } from \"../components/utils\";\nimport NavBar from \"../components/NavBar/NavBar\";\nimport Footer from \"../components/Footer/Footer\";\n\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/fr\";\n\nimport Loader from \"../components/Loader/Loader\";\n\nconst Events = () => {\n  const dispatch = useDispatch();\n\n  const [onLoading, setOnLoading] = useState(true);\n  const [onPlaceholder, setOnPlaceholder] = useState(true);\n  const events = useSelector((state) => state.events);\n  useEffect(() => {\n    if (onLoading) {\n      dispatch(getAllEvents());\n    }\n  }, [dispatch, onLoading]);\n\n  const newArr = !isEmpty(events)\n    ? events.sort((a, b) => {\n        return Number(b.isPremium) - Number(a.isPremium);\n      })\n    : [];\n\n  dayjs.locale(\"fr\");\n  const hourParser = (date) => {\n    return dayjs(date).format(\"HH\");\n  };\n\n  const minuteParser = (date) => {\n    return dayjs(date).format(\"mm\");\n  };\n\n  useEffect(() => {\n    if (!isEmpty(events)) {\n      setOnLoading(false);\n      events.map((event) => console.log(event));\n    }\n\n    setTimeout(() => {\n      setOnLoading(false);\n    }, 2000);\n\n    setTimeout(() => {\n      setOnPlaceholder(false);\n    }, 3000);\n  }, [events]);\n\n  return (\n    <>\n      {onLoading ? (\n        <>\n          <Loader />\n        </>\n      ) : (\n        <>\n          <NavBar value={\"Events\"} />\n          <div className=\"events-container\">\n\n            <div className=\"events-blocks-container\">\n              {isEmpty(events) || onPlaceholder\n                ? events.map((event) => (\n                    <>\n                      <div className=\"card\">\n                        <div className=\"card_load\"></div>\n                        <div className=\"card_load-content\">\n                          <div className=\"card_load_extreme_title\"></div>\n                          <div className=\"card_load_extreme_descripion\"></div>\n                        </div>\n                      </div>\n                    </>\n                  ))\n                : events.map((event) => (\n                    <>\n                      <a\n                        href={event.poster}\n                        target=\"_blank\"\n                        className=\"event-card\"\n                      >\n                        <div className=\"event-poster\">\n                          <img src={event.poster} alt=\"poster\" />\n                        </div>\n                        <div className=\"event-details\">\n                          <div className=\"event-title\">\n                            <h2>{event.title}</h2>\n                          </div>\n\n                          <div className=\"event-description\">\n                            <p>{event.description}</p>\n                            <p>Lieu : {event.address}</p>\n                          </div>\n\n                          <div className=\"event-sub\">\n                            <div className=\"event-date\">\n                              <img\n                                src={\n                                  process.env.PUBLIC_URL +\n                                  \"/imgs/icons/calendar.png\"\n                                }\n                                alt=\"calendar \"\n                              />\n                              {event?.dateEvent.length === 1 ? (\n                                <>\n                                  <p>\n                                    {dayjs(event.dateEvent[0]).format(\n                                      \"DD MMMM YYYY\"\n                                    )}\n                                  </p>\n                                </>\n                              ) : (\n                                <>\n                                  <p>\n                                    {dayjs(event.dateEvent[0]).format(\n                                      \"DD MMMM YYYY\"\n                                    )}\n                                    <br />\n                                    {dayjs(event.dateEvent[1]).format(\n                                      \"DD MMMM YYYY\"\n                                    )}\n                                  </p>\n                                </>\n                              )}\n                            </div>\n                            <div className=\"event-time\">\n                              <img\n                                src={\n                                  process.env.PUBLIC_URL +\n                                  \"/imgs/icons/clock.png\"\n                                }\n                                alt=\"calendar \"\n                              />\n                              {hourParser(event.startAt) + \"H\"} -{\" \"}\n                              {hourParser(event.endAt) + \"H\"}\n                            </div>\n                            <div className=\"event-organizer\">\n                              <p>Organisateur :</p>\n                              {event.organizer}\n                            </div>\n                          </div>\n                        </div>\n                      </a>\n                    </>\n                  ))}\n            </div>\n          </div>\n         {/* <Footer /> */}\n\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Events;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}