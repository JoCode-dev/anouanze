{"ast":null,"code":"import _slicedToArray from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useContext}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getParoisse}from\"../../actions/paroisse\";import{getActuByID}from\"../../actions/actus\";import{isEmpty}from\"../utils/index\";import{NavLink}from\"react-router-dom\";import{UidContext}from\"../AppContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MaParoisse=function MaParoisse(_ref){var _paroisse$paroissiens;var id=_ref.id;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loadEvent=_useState2[0],setLoadEvent=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSwith=_useState4[0],setIsSwith=_useState4[1];var uid=useContext(UidContext);var dispatch=useDispatch();useEffect(function(){if(loadEvent){dispatch(getParoisse(id));dispatch(getActuByID(id));}},[dispatch,id,loadEvent]);var paroisse=useSelector(function(state){return state.paroisse;});var actus=useSelector(function(state){return state.actu;});var toggleProgram=function toggleProgram(id){id===1?setIsSwith(false):setIsSwith(true);};var putDashes=function putDashes(hours){var arrayLength=hours.length;return arrayLength<=2?hours[0]+\" - \"+hours[1]:hours[0]+\" - \"+hours[1]+\" - \"+hours[2];};return/*#__PURE__*/_jsx(_Fragment,{children:!isEmpty(paroisse)&&(paroisse===null||paroisse===void 0?void 0:(_paroisse$paroissiens=paroisse.paroissiens)===null||_paroisse$paroissiens===void 0?void 0:_paroisse$paroissiens.includes(uid))&&/*#__PURE__*/_jsxs(\"div\",{className:\"MaParoisse-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"MaParoisse-header\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/paroisse/\".concat(paroisse._id),children:/*#__PURE__*/_jsx(\"h1\",{children:\"Ma Paroisse\"})}),/*#__PURE__*/_jsxs(NavLink,{to:\"/paroisses\",className:\"MaParoisse-header-right\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Paroisses\"}),/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/imgs/icons/arrow-right.png\",alt:\"arrow-right\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"MaParoisse-infos-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"MaParoisse-infos-left\",children:[paroisse!==null&&paroisse!==void 0&&paroisse.pictures[0]?/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+paroisse.pictures[0],alt:paroisse.name}):/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/imgs/icon.png\",alt:paroisse.name}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"MaParoisse-infos-right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:paroisse===null||paroisse===void 0?void 0:paroisse.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"MaParoisse-program\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"MaParoisse-program-title\",children:\"Programme Paroissial\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"MaParoisse-program-switch\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"switch \".concat(!isSwith&&\"active\"),onClick:function onClick(){return toggleProgram(1);},children:\"Messes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"switch \".concat(isSwith&&\"active\"),onClick:function onClick(){return toggleProgram(2);},children:\"Confessions\"})]}),isSwith===false&&/*#__PURE__*/_jsx(\"div\",{className:\"MaParoisse-program-messes\",children:paroisse===null||paroisse===void 0?void 0:paroisse.messes.map(function(messe,idx){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"messe-box\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[messe.dayName,\" : \",putDashes(messe===null||messe===void 0?void 0:messe.dayHour)]})},idx)});})}),isSwith===true&&/*#__PURE__*/_jsxs(\"div\",{className:\"MaParoisse-program-confess\",children:[(paroisse===null||paroisse===void 0?void 0:paroisse.confessions.lengtht)>1&&(paroisse===null||paroisse===void 0?void 0:paroisse.confessions.map(function(confession,idx){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"confess-box\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[confession.dayName,\" :\",\" \",putDashes(confession===null||confession===void 0?void 0:confession.dayHour)]})},idx)});})),(paroisse===null||paroisse===void 0?void 0:paroisse.confessions.length)===1&&(paroisse===null||paroisse===void 0?void 0:paroisse.confessions.map(function(confession,idx){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"confess-box\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[confession.dayName,\" : \",confession===null||confession===void 0?void 0:confession.dayHour]})},idx)});}))]})]}),!isEmpty(actus)&&/*#__PURE__*/_jsxs(\"div\",{className:\"MaParoisse-actus\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"MaParoisse-actus-title\",children:\"Vie de ma Paroisse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"MaParoisse-actus-container\",children:Array.isArray(actus===null||actus===void 0?void 0:actus.data)?actus===null||actus===void 0?void 0:actus.data.map(function(actu,idx){return/*#__PURE__*/_jsxs(NavLink,{to:\"/actu/\".concat(actu._id),className:\"actu-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"box-img\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+actu.poster})}),actu.title]},idx);}):null})]})]})]})]})});};export default MaParoisse;","map":{"version":3,"names":["React","useEffect","useState","useContext","useDispatch","useSelector","getParoisse","getActuByID","isEmpty","NavLink","UidContext","MaParoisse","id","loadEvent","setLoadEvent","isSwith","setIsSwith","uid","dispatch","paroisse","state","actus","actu","toggleProgram","putDashes","hours","arrayLength","length","paroissiens","includes","_id","process","env","PUBLIC_URL","pictures","name","messes","map","messe","idx","dayName","dayHour","confessions","lengtht","confession","Array","isArray","data","poster","title"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/src/components/MaParoisse/MaParoisse.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getParoisse } from \"../../actions/paroisse\";\nimport { getActuByID } from \"../../actions/actus\";\nimport { isEmpty } from \"../utils/index\";\nimport { NavLink } from \"react-router-dom\";\nimport { UidContext } from \"../AppContext\";\n\nconst MaParoisse = ({ id }) => {\n  const [loadEvent, setLoadEvent] = useState(true);\n  const [isSwith, setIsSwith] = useState(false);\n  const uid = useContext(UidContext);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (loadEvent) {\n      dispatch(getParoisse(id));\n      dispatch(getActuByID(id));\n    }\n  }, [dispatch, id, loadEvent]);\n\n  const paroisse = useSelector((state) => state.paroisse);\n  const actus = useSelector((state) => state.actu);\n\n  const toggleProgram = (id) => {\n    id === 1 ? setIsSwith(false) : setIsSwith(true);\n  };\n\n  const putDashes = (hours) => {\n    const arrayLength = hours.length;\n    return arrayLength <= 2\n      ? hours[0] + \" - \" + hours[1]\n      : hours[0] + \" - \" + hours[1] + \" - \" + hours[2];\n  };\n\n  return (\n    <>\n      {!isEmpty(paroisse) && paroisse?.paroissiens?.includes(uid) && (\n        <div className=\"MaParoisse-container\">\n          <div className=\"MaParoisse-header\">\n            <NavLink to={`/paroisse/${paroisse._id}`}>\n              <h1>Ma Paroisse</h1>\n            </NavLink>\n\n            <NavLink to={`/paroisses`} className=\"MaParoisse-header-right\">\n              <h2>Paroisses</h2>\n              <img\n                src={process.env.PUBLIC_URL + \"/imgs/icons/arrow-right.png\"}\n                alt=\"arrow-right\"\n              />\n            </NavLink>\n          </div>\n\n          <div className=\"MaParoisse-infos-container\">\n            <div className=\"MaParoisse-infos-left\">\n              {paroisse?.pictures[0] ? (\n                <img\n                  src={process.env.PUBLIC_URL + paroisse.pictures[0]}\n                  alt={paroisse.name}\n                />\n              ) : (\n                <img\n                  src={process.env.PUBLIC_URL + \"/imgs/icon.png\"}\n                  alt={paroisse.name}\n                />\n              )}{\" \"}\n            </div>\n            <div className=\"MaParoisse-infos-right\">\n              <h1>{paroisse?.name}</h1>\n\n              <div className=\"MaParoisse-program\">\n                <div className=\"MaParoisse-program-title\">\n                  Programme Paroissial\n                </div>\n                <div className=\"MaParoisse-program-switch\">\n                  <div\n                    className={`switch ${!isSwith && \"active\"}`}\n                    onClick={() => toggleProgram(1)}\n                  >\n                    Messes\n                  </div>\n                  <div\n                    className={`switch ${isSwith && \"active\"}`}\n                    onClick={() => toggleProgram(2)}\n                  >\n                    Confessions\n                  </div>\n                </div>\n                {isSwith === false && (\n                  <div className=\"MaParoisse-program-messes\">\n                    {paroisse?.messes.map((messe, idx) => (\n                      <>\n                        <div key={idx} className=\"messe-box\">\n                          <h3>\n                            {messe.dayName} : {putDashes(messe?.dayHour)}\n                          </h3>\n                        </div>\n                      </>\n                    ))}\n                  </div>\n                )}\n\n                {isSwith === true && (\n                  <div className=\"MaParoisse-program-confess\">\n                    {paroisse?.confessions.lengtht > 1 &&\n                      paroisse?.confessions.map((confession, idx) => (\n                        <>\n                          <div key={idx} className=\"confess-box\">\n                            <h3>\n                              {confession.dayName} :{\" \"}\n                              {putDashes(confession?.dayHour)}\n                            </h3>\n                          </div>\n                        </>\n                      ))}\n                    {paroisse?.confessions.length === 1 &&\n                      paroisse?.confessions.map((confession, idx) => (\n                        <>\n                          <div key={idx} className=\"confess-box\">\n                            <h3>\n                              {confession.dayName} : {confession?.dayHour}\n                            </h3>\n                          </div>\n                        </>\n                      ))}\n                  </div>\n                )}\n              </div>\n\n              {!isEmpty(actus) && (\n                <div className=\"MaParoisse-actus\">\n                  <div className=\"MaParoisse-actus-title\">\n                    Vie de ma Paroisse\n                  </div>\n                  <div className=\"MaParoisse-actus-container\">\n                    {Array.isArray(actus?.data)\n                      ? actus?.data.map((actu, idx) => (\n                          <NavLink\n                            to={`/actu/${actu._id}`}\n                            className=\"actu-box\"\n                            key={idx}\n                          >\n                            <div className=\"box-img\">\n                              <img src={process.env.PUBLIC_URL + actu.poster} />\n                            </div>\n                            {actu.title}\n                          </NavLink>\n                        ))\n                      : null}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default MaParoisse;\n"],"mappings":"oIAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,WAAT,KAA4B,qBAA5B,CACA,OAASC,OAAT,KAAwB,gBAAxB,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,OAASC,UAAT,KAA2B,eAA3B,C,6IAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,MAAY,8BAATC,GAAS,MAATA,EAAS,CAC7B,cAAkCV,QAAQ,CAAC,IAAD,CAA1C,wCAAOW,SAAP,eAAkBC,YAAlB,eACA,eAA8BZ,QAAQ,CAAC,KAAD,CAAtC,yCAAOa,OAAP,eAAgBC,UAAhB,eACA,GAAMC,IAAG,CAAGd,UAAU,CAACO,UAAD,CAAtB,CAEA,GAAMQ,SAAQ,CAAGd,WAAW,EAA5B,CAEAH,SAAS,CAAC,UAAM,CACd,GAAIY,SAAJ,CAAe,CACbK,QAAQ,CAACZ,WAAW,CAACM,EAAD,CAAZ,CAAR,CACAM,QAAQ,CAACX,WAAW,CAACK,EAAD,CAAZ,CAAR,CACD,CACF,CALQ,CAKN,CAACM,QAAD,CAAWN,EAAX,CAAeC,SAAf,CALM,CAAT,CAOA,GAAMM,SAAQ,CAAGd,WAAW,CAAC,SAACe,KAAD,QAAWA,MAAK,CAACD,QAAjB,EAAD,CAA5B,CACA,GAAME,MAAK,CAAGhB,WAAW,CAAC,SAACe,KAAD,QAAWA,MAAK,CAACE,IAAjB,EAAD,CAAzB,CAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACX,EAAD,CAAQ,CAC5BA,EAAE,GAAK,CAAP,CAAWI,UAAU,CAAC,KAAD,CAArB,CAA+BA,UAAU,CAAC,IAAD,CAAzC,CACD,CAFD,CAIA,GAAMQ,UAAS,CAAG,QAAZA,UAAY,CAACC,KAAD,CAAW,CAC3B,GAAMC,YAAW,CAAGD,KAAK,CAACE,MAA1B,CACA,MAAOD,YAAW,EAAI,CAAf,CACHD,KAAK,CAAC,CAAD,CAAL,CAAW,KAAX,CAAmBA,KAAK,CAAC,CAAD,CADrB,CAEHA,KAAK,CAAC,CAAD,CAAL,CAAW,KAAX,CAAmBA,KAAK,CAAC,CAAD,CAAxB,CAA8B,KAA9B,CAAsCA,KAAK,CAAC,CAAD,CAF/C,CAGD,CALD,CAOA,mBACE,yBACG,CAACjB,OAAO,CAACW,QAAD,CAAR,GAAsBA,QAAtB,SAAsBA,QAAtB,wCAAsBA,QAAQ,CAAES,WAAhC,gDAAsB,sBAAuBC,QAAvB,CAAgCZ,GAAhC,CAAtB,gBACC,aAAK,SAAS,CAAC,sBAAf,wBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,KAAC,OAAD,EAAS,EAAE,qBAAeE,QAAQ,CAACW,GAAxB,CAAX,uBACE,mCADF,EADF,cAKE,MAAC,OAAD,EAAS,EAAE,aAAX,CAA2B,SAAS,CAAC,yBAArC,wBACE,iCADF,cAEE,YACE,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyB,6BADhC,CAEE,GAAG,CAAC,aAFN,EAFF,GALF,GADF,cAeE,aAAK,SAAS,CAAC,4BAAf,wBACE,aAAK,SAAS,CAAC,uBAAf,WACGd,QAAQ,OAAR,EAAAA,QAAQ,SAAR,EAAAA,QAAQ,CAAEe,QAAV,CAAmB,CAAnB,eACC,YACE,GAAG,CAAEH,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyBd,QAAQ,CAACe,QAAT,CAAkB,CAAlB,CADhC,CAEE,GAAG,CAAEf,QAAQ,CAACgB,IAFhB,EADD,cAMC,YACE,GAAG,CAAEJ,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyB,gBADhC,CAEE,GAAG,CAAEd,QAAQ,CAACgB,IAFhB,EAPJ,CAWK,GAXL,GADF,cAcE,aAAK,SAAS,CAAC,wBAAf,wBACE,oBAAKhB,QAAL,SAAKA,QAAL,iBAAKA,QAAQ,CAAEgB,IAAf,EADF,cAGE,aAAK,SAAS,CAAC,oBAAf,wBACE,YAAK,SAAS,CAAC,0BAAf,kCADF,cAIE,aAAK,SAAS,CAAC,2BAAf,wBACE,YACE,SAAS,kBAAY,CAACpB,OAAD,EAAY,QAAxB,CADX,CAEE,OAAO,CAAE,yBAAMQ,cAAa,CAAC,CAAD,CAAnB,EAFX,oBADF,cAOE,YACE,SAAS,kBAAYR,OAAO,EAAI,QAAvB,CADX,CAEE,OAAO,CAAE,yBAAMQ,cAAa,CAAC,CAAD,CAAnB,EAFX,yBAPF,GAJF,CAkBGR,OAAO,GAAK,KAAZ,eACC,YAAK,SAAS,CAAC,2BAAf,UACGI,QADH,SACGA,QADH,iBACGA,QAAQ,CAAEiB,MAAV,CAAiBC,GAAjB,CAAqB,SAACC,KAAD,CAAQC,GAAR,qBACpB,sCACE,YAAe,SAAS,CAAC,WAAzB,uBACE,sBACGD,KAAK,CAACE,OADT,OACqBhB,SAAS,CAACc,KAAD,SAACA,KAAD,iBAACA,KAAK,CAAEG,OAAR,CAD9B,GADF,EAAUF,GAAV,CADF,EADoB,EAArB,CADH,EAnBJ,CAgCGxB,OAAO,GAAK,IAAZ,eACC,aAAK,SAAS,CAAC,4BAAf,WACG,CAAAI,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEuB,WAAV,CAAsBC,OAAtB,EAAgC,CAAhC,GACCxB,QADD,SACCA,QADD,iBACCA,QAAQ,CAAEuB,WAAV,CAAsBL,GAAtB,CAA0B,SAACO,UAAD,CAAaL,GAAb,qBACxB,sCACE,YAAe,SAAS,CAAC,aAAzB,uBACE,sBACGK,UAAU,CAACJ,OADd,MACyB,GADzB,CAEGhB,SAAS,CAACoB,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAEH,OAAb,CAFZ,GADF,EAAUF,GAAV,CADF,EADwB,EAA1B,CADD,CADH,CAYG,CAAApB,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEuB,WAAV,CAAsBf,MAAtB,IAAiC,CAAjC,GACCR,QADD,SACCA,QADD,iBACCA,QAAQ,CAAEuB,WAAV,CAAsBL,GAAtB,CAA0B,SAACO,UAAD,CAAaL,GAAb,qBACxB,sCACE,YAAe,SAAS,CAAC,aAAzB,uBACE,sBACGK,UAAU,CAACJ,OADd,OAC0BI,UAD1B,SAC0BA,UAD1B,iBAC0BA,UAAU,CAAEH,OADtC,GADF,EAAUF,GAAV,CADF,EADwB,EAA1B,CADD,CAZH,GAjCJ,GAHF,CA8DG,CAAC/B,OAAO,CAACa,KAAD,CAAR,eACC,aAAK,SAAS,CAAC,kBAAf,wBACE,YAAK,SAAS,CAAC,wBAAf,gCADF,cAIE,YAAK,SAAS,CAAC,4BAAf,UACGwB,KAAK,CAACC,OAAN,CAAczB,KAAd,SAAcA,KAAd,iBAAcA,KAAK,CAAE0B,IAArB,EACG1B,KADH,SACGA,KADH,iBACGA,KAAK,CAAE0B,IAAP,CAAYV,GAAZ,CAAgB,SAACf,IAAD,CAAOiB,GAAP,qBACd,MAAC,OAAD,EACE,EAAE,iBAAWjB,IAAI,CAACQ,GAAhB,CADJ,CAEE,SAAS,CAAC,UAFZ,wBAKE,YAAK,SAAS,CAAC,SAAf,uBACE,YAAK,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyBX,IAAI,CAAC0B,MAAxC,EADF,EALF,CAQG1B,IAAI,CAAC2B,KARR,GAGOV,GAHP,CADc,EAAhB,CADH,CAaG,IAdN,EAJF,GA/DJ,GAdF,GAfF,GAFJ,EADF,CA2HD,CAvJD,CAyJA,cAAe5B,WAAf"},"metadata":{},"sourceType":"module"}