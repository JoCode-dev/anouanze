{"ast":null,"code":"import axios from \"axios\";\nimport Cookies from \"js-cookie\";\nconst url = `http://localhost:5000`;\naxios.interceptors.request.use(req => {\n  if (localStorage.getItem(\"jwt\")) {\n    req.headers.Authorization = `Bearer ${JSON.parse(localStorage.getItem(\"jwt\")).token}`;\n  }\n\n  return req;\n});\naxios.defaults.withCredentials = true; // Authentication\n\nexport const register = userData => axios.post(`${url}/user/register`, userData);\nexport const login = user => axios.post(`${url}/user/login`, user);\n\nconst removeCookie = (key, value) => {\n  if (window !== undefined) {\n    Cookies.remove(key, {\n      path: \"/\"\n    });\n  }\n};\n\nexport const logout = async () => {\n  await axios({\n    method: \"GET\",\n    url: `${url}/user/logout`,\n    withCredentials: true\n  }).then(() => {\n    removeCookie(\"jwt\");\n    localStorage.clear();\n  }); // .catch((err) => console.log(err));\n\n  window.location = \"/\";\n}; // User\n\nexport const getUser = id => axios.get(`${url}/user/${id}`);\nexport const getAllUsers = () => axios.get(`${url}/user`);\nexport const updateUser = (id, user) => axios.patch(`${url}/user/${id}`, user); // Paroisse\n\nexport const createParoisse = data => axios.post(`${url}/paroisse/`, data);\nexport const updateParoisse = (id, data) => axios.patch(`${url}/paroisse/${id}`, data);\nexport const deleteParoisse = id => axios.delete(`${url}/paroisse/${id}`);\nexport const chooseParoisse = (id, userId) => axios.patch(`${url}/paroisse/choose-paroisse/${id}`, {\n  userId\n});\nexport const unchooseParoisse = (id, userId) => axios.patch(`${url}/paroisse/unchoose-paroisse/${id}`, {\n  userId\n});\nexport const getParoisses = () => axios.get(`${url}/paroisse`);\nexport const getParoisse = id => axios.get(`${url}/paroisse/${id}`); // Clergy\n\nexport const addPriest = (id, data) => axios.patch(`${url}/add-clergy/${id}`, data);\nexport const removePriest = (id, data) => axios.patch(`${url}/remove-clergy/${id}`, data); // Event\n\nexport const createEvent = data => axios.post(`${url}/event`, data);\nexport const updateEvent = (id, data) => axios.patch(`${url}/event/${id}`, data);\nexport const deleteEvent = id => axios.delete(`${url}/event/${id}`);\nexport const getAllEvents = () => axios.get(`${url}/event`);\nexport const getEvent = id => axios.get(`${url}/event/${id}`); // Actu\n\nexport const createActu = data => axios.post(`${url}/actus`, data);\nexport const removeActu = id => axios.delete(`${url}/actus/${id}`);\nexport const updateActu = (id, data) => axios.patch(`${url}/actus/${id}`, data);\nexport const getAllActus = () => axios.get(`${url}/actus`);\nexport const getActu = id => axios.get(`${url}/actus/${id}`);\nexport const getActusById = id => axios.get(`${url}/actus/paroisse/${id}`); // Paroisses à proximité\n\nexport const getNearParoisses = coords => axios.get(`${url}/paroisses/${coords}`); // Messes\n\nexport const addMesses = (id, data) => axios.patch(`${url}/paroisse/add-messe/${id}`, data);\nexport const removeMesse = (id, messeId) => axios.patch(`${url}/paroisse/remove-messe/${id}`, messeId); // Confessions\n\nexport const addConfessions = (id, data) => axios.patch(`${url}/paroisse/add-confession/${id}`, data);\nexport const removeConfessions = (id, confessionId) => axios.patch(`${url}/paroisse/remove-confession/${id}`, confessionId); // Demandes\n\nexport const addDemande = data => axios.post(`${url}/demandes`, data);\nexport const updateDemande = id => axios.patch(`${url}/demandes/${id}`);\nexport const getDemandsByParoisse = id => axios.get(`${url}/demandes/paroisse`, id);\nexport const getDemands = id => axios.get(`${url}/demandes/${id}`);","map":{"version":3,"names":["axios","Cookies","url","interceptors","request","use","req","localStorage","getItem","headers","Authorization","JSON","parse","token","defaults","withCredentials","register","userData","post","login","user","removeCookie","key","value","window","undefined","remove","path","logout","method","then","clear","location","getUser","id","get","getAllUsers","updateUser","patch","createParoisse","data","updateParoisse","deleteParoisse","delete","chooseParoisse","userId","unchooseParoisse","getParoisses","getParoisse","addPriest","removePriest","createEvent","updateEvent","deleteEvent","getAllEvents","getEvent","createActu","removeActu","updateActu","getAllActus","getActu","getActusById","getNearParoisses","coords","addMesses","removeMesse","messeId","addConfessions","removeConfessions","confessionId","addDemande","updateDemande","getDemandsByParoisse","getDemands"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/src/api/index.js"],"sourcesContent":["import axios from \"axios\";\nimport Cookies from \"js-cookie\";\nconst url = `http://localhost:5000`;\n\naxios.interceptors.request.use((req) => {\n  if (localStorage.getItem(\"jwt\")) {\n    req.headers.Authorization = `Bearer ${\n      JSON.parse(localStorage.getItem(\"jwt\")).token\n    }`;\n  }\n\n  return req;\n});\n\naxios.defaults.withCredentials = true;\n\n// Authentication\nexport const register = (userData) =>\n  axios.post(`${url}/user/register`, userData);\n\nexport const login = (user) => axios.post(`${url}/user/login`, user);\n\nconst removeCookie = (key, value) => {\n  if (window !== undefined) {\n    Cookies.remove(key, { path: \"/\" });\n  }\n};\n\nexport const logout = async () => {\n  await axios({\n    method: \"GET\",\n    url: `${url}/user/logout`,\n    withCredentials: true,\n  }).then(() => {\n    removeCookie(\"jwt\");\n    localStorage.clear();\n  });\n  // .catch((err) => console.log(err));\n\n  window.location = \"/\";\n};\n\n// User\nexport const getUser = (id) => axios.get(`${url}/user/${id}`);\nexport const getAllUsers = () => axios.get(`${url}/user`);\nexport const updateUser = (id, user) => axios.patch(`${url}/user/${id}`, user);\n\n// Paroisse\nexport const createParoisse = (data) => axios.post(`${url}/paroisse/`, data);\nexport const updateParoisse = (id, data) =>\n  axios.patch(`${url}/paroisse/${id}`, data);\nexport const deleteParoisse = (id) => axios.delete(`${url}/paroisse/${id}`);\nexport const chooseParoisse = (id, userId) =>\n  axios.patch(`${url}/paroisse/choose-paroisse/${id}`, { userId });\n\nexport const unchooseParoisse = (id, userId) =>\n  axios.patch(`${url}/paroisse/unchoose-paroisse/${id}`, { userId });\n\nexport const getParoisses = () => axios.get(`${url}/paroisse`);\nexport const getParoisse = (id) => axios.get(`${url}/paroisse/${id}`);\n\n// Clergy\nexport const addPriest = (id, data) =>\n  axios.patch(`${url}/add-clergy/${id}`, data);\n\nexport const removePriest = (id, data) =>\n  axios.patch(`${url}/remove-clergy/${id}`, data);\n\n// Event\nexport const createEvent = (data) => axios.post(`${url}/event`, data);\nexport const updateEvent = (id, data) =>\n  axios.patch(`${url}/event/${id}`, data);\nexport const deleteEvent = (id) => axios.delete(`${url}/event/${id}`);\nexport const getAllEvents = () => axios.get(`${url}/event`);\nexport const getEvent = (id) => axios.get(`${url}/event/${id}`);\n\n// Actu\nexport const createActu = (data) => axios.post(`${url}/actus`, data);\nexport const removeActu = (id) => axios.delete(`${url}/actus/${id}`);\nexport const updateActu = (id, data) => axios.patch(`${url}/actus/${id}`, data);\nexport const getAllActus = () => axios.get(`${url}/actus`);\nexport const getActu = (id) => axios.get(`${url}/actus/${id}`);\nexport const getActusById = (id) => axios.get(`${url}/actus/paroisse/${id}`);\n\n// Paroisses à proximité\nexport const getNearParoisses = (coords) =>\n  axios.get(`${url}/paroisses/${coords}`);\n\n// Messes\nexport const addMesses = (id, data) =>\n  axios.patch(`${url}/paroisse/add-messe/${id}`, data);\nexport const removeMesse = (id, messeId) =>\n  axios.patch(`${url}/paroisse/remove-messe/${id}`, messeId);\n\n// Confessions\nexport const addConfessions = (id, data) =>\n  axios.patch(`${url}/paroisse/add-confession/${id}`, data);\nexport const removeConfessions = (id, confessionId) =>\n  axios.patch(`${url}/paroisse/remove-confession/${id}`, confessionId);\n\n// Demandes\nexport const addDemande = (data) => axios.post(`${url}/demandes`, data);\nexport const updateDemande = (id) => axios.patch(`${url}/demandes/${id}`);\nexport const getDemandsByParoisse = (id) =>\n  axios.get(`${url}/demandes/paroisse`, id);\nexport const getDemands = (id) => axios.get(`${url}/demandes/${id}`);\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,MAAMC,GAAG,GAAI,uBAAb;AAEAF,KAAK,CAACG,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAAgCC,GAAD,IAAS;EACtC,IAAIC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAJ,EAAiC;IAC/BF,GAAG,CAACG,OAAJ,CAAYC,aAAZ,GAA6B,UAC3BC,IAAI,CAACC,KAAL,CAAWL,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAX,EAAwCK,KACzC,EAFD;EAGD;;EAED,OAAOP,GAAP;AACD,CARD;AAUAN,KAAK,CAACc,QAAN,CAAeC,eAAf,GAAiC,IAAjC,C,CAEA;;AACA,OAAO,MAAMC,QAAQ,GAAIC,QAAD,IACtBjB,KAAK,CAACkB,IAAN,CAAY,GAAEhB,GAAI,gBAAlB,EAAmCe,QAAnC,CADK;AAGP,OAAO,MAAME,KAAK,GAAIC,IAAD,IAAUpB,KAAK,CAACkB,IAAN,CAAY,GAAEhB,GAAI,aAAlB,EAAgCkB,IAAhC,CAAxB;;AAEP,MAAMC,YAAY,GAAG,CAACC,GAAD,EAAMC,KAAN,KAAgB;EACnC,IAAIC,MAAM,KAAKC,SAAf,EAA0B;IACxBxB,OAAO,CAACyB,MAAR,CAAeJ,GAAf,EAAoB;MAAEK,IAAI,EAAE;IAAR,CAApB;EACD;AACF,CAJD;;AAMA,OAAO,MAAMC,MAAM,GAAG,YAAY;EAChC,MAAM5B,KAAK,CAAC;IACV6B,MAAM,EAAE,KADE;IAEV3B,GAAG,EAAG,GAAEA,GAAI,cAFF;IAGVa,eAAe,EAAE;EAHP,CAAD,CAAL,CAIHe,IAJG,CAIE,MAAM;IACZT,YAAY,CAAC,KAAD,CAAZ;IACAd,YAAY,CAACwB,KAAb;EACD,CAPK,CAAN,CADgC,CAShC;;EAEAP,MAAM,CAACQ,QAAP,GAAkB,GAAlB;AACD,CAZM,C,CAcP;;AACA,OAAO,MAAMC,OAAO,GAAIC,EAAD,IAAQlC,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,SAAQgC,EAAG,EAA5B,CAAxB;AACP,OAAO,MAAME,WAAW,GAAG,MAAMpC,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,OAAjB,CAA1B;AACP,OAAO,MAAMmC,UAAU,GAAG,CAACH,EAAD,EAAKd,IAAL,KAAcpB,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,SAAQgC,EAAG,EAA9B,EAAiCd,IAAjC,CAAjC,C,CAEP;;AACA,OAAO,MAAMmB,cAAc,GAAIC,IAAD,IAAUxC,KAAK,CAACkB,IAAN,CAAY,GAAEhB,GAAI,YAAlB,EAA+BsC,IAA/B,CAAjC;AACP,OAAO,MAAMC,cAAc,GAAG,CAACP,EAAD,EAAKM,IAAL,KAC5BxC,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,aAAYgC,EAAG,EAAlC,EAAqCM,IAArC,CADK;AAEP,OAAO,MAAME,cAAc,GAAIR,EAAD,IAAQlC,KAAK,CAAC2C,MAAN,CAAc,GAAEzC,GAAI,aAAYgC,EAAG,EAAnC,CAA/B;AACP,OAAO,MAAMU,cAAc,GAAG,CAACV,EAAD,EAAKW,MAAL,KAC5B7C,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,6BAA4BgC,EAAG,EAAlD,EAAqD;EAAEW;AAAF,CAArD,CADK;AAGP,OAAO,MAAMC,gBAAgB,GAAG,CAACZ,EAAD,EAAKW,MAAL,KAC9B7C,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,+BAA8BgC,EAAG,EAApD,EAAuD;EAAEW;AAAF,CAAvD,CADK;AAGP,OAAO,MAAME,YAAY,GAAG,MAAM/C,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,WAAjB,CAA3B;AACP,OAAO,MAAM8C,WAAW,GAAId,EAAD,IAAQlC,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,aAAYgC,EAAG,EAAhC,CAA5B,C,CAEP;;AACA,OAAO,MAAMe,SAAS,GAAG,CAACf,EAAD,EAAKM,IAAL,KACvBxC,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,eAAcgC,EAAG,EAApC,EAAuCM,IAAvC,CADK;AAGP,OAAO,MAAMU,YAAY,GAAG,CAAChB,EAAD,EAAKM,IAAL,KAC1BxC,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,kBAAiBgC,EAAG,EAAvC,EAA0CM,IAA1C,CADK,C,CAGP;;AACA,OAAO,MAAMW,WAAW,GAAIX,IAAD,IAAUxC,KAAK,CAACkB,IAAN,CAAY,GAAEhB,GAAI,QAAlB,EAA2BsC,IAA3B,CAA9B;AACP,OAAO,MAAMY,WAAW,GAAG,CAAClB,EAAD,EAAKM,IAAL,KACzBxC,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,UAASgC,EAAG,EAA/B,EAAkCM,IAAlC,CADK;AAEP,OAAO,MAAMa,WAAW,GAAInB,EAAD,IAAQlC,KAAK,CAAC2C,MAAN,CAAc,GAAEzC,GAAI,UAASgC,EAAG,EAAhC,CAA5B;AACP,OAAO,MAAMoB,YAAY,GAAG,MAAMtD,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,QAAjB,CAA3B;AACP,OAAO,MAAMqD,QAAQ,GAAIrB,EAAD,IAAQlC,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,UAASgC,EAAG,EAA7B,CAAzB,C,CAEP;;AACA,OAAO,MAAMsB,UAAU,GAAIhB,IAAD,IAAUxC,KAAK,CAACkB,IAAN,CAAY,GAAEhB,GAAI,QAAlB,EAA2BsC,IAA3B,CAA7B;AACP,OAAO,MAAMiB,UAAU,GAAIvB,EAAD,IAAQlC,KAAK,CAAC2C,MAAN,CAAc,GAAEzC,GAAI,UAASgC,EAAG,EAAhC,CAA3B;AACP,OAAO,MAAMwB,UAAU,GAAG,CAACxB,EAAD,EAAKM,IAAL,KAAcxC,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,UAASgC,EAAG,EAA/B,EAAkCM,IAAlC,CAAjC;AACP,OAAO,MAAMmB,WAAW,GAAG,MAAM3D,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,QAAjB,CAA1B;AACP,OAAO,MAAM0D,OAAO,GAAI1B,EAAD,IAAQlC,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,UAASgC,EAAG,EAA7B,CAAxB;AACP,OAAO,MAAM2B,YAAY,GAAI3B,EAAD,IAAQlC,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,mBAAkBgC,EAAG,EAAtC,CAA7B,C,CAEP;;AACA,OAAO,MAAM4B,gBAAgB,GAAIC,MAAD,IAC9B/D,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,cAAa6D,MAAO,EAArC,CADK,C,CAGP;;AACA,OAAO,MAAMC,SAAS,GAAG,CAAC9B,EAAD,EAAKM,IAAL,KACvBxC,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,uBAAsBgC,EAAG,EAA5C,EAA+CM,IAA/C,CADK;AAEP,OAAO,MAAMyB,WAAW,GAAG,CAAC/B,EAAD,EAAKgC,OAAL,KACzBlE,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,0BAAyBgC,EAAG,EAA/C,EAAkDgC,OAAlD,CADK,C,CAGP;;AACA,OAAO,MAAMC,cAAc,GAAG,CAACjC,EAAD,EAAKM,IAAL,KAC5BxC,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,4BAA2BgC,EAAG,EAAjD,EAAoDM,IAApD,CADK;AAEP,OAAO,MAAM4B,iBAAiB,GAAG,CAAClC,EAAD,EAAKmC,YAAL,KAC/BrE,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,+BAA8BgC,EAAG,EAApD,EAAuDmC,YAAvD,CADK,C,CAGP;;AACA,OAAO,MAAMC,UAAU,GAAI9B,IAAD,IAAUxC,KAAK,CAACkB,IAAN,CAAY,GAAEhB,GAAI,WAAlB,EAA8BsC,IAA9B,CAA7B;AACP,OAAO,MAAM+B,aAAa,GAAIrC,EAAD,IAAQlC,KAAK,CAACsC,KAAN,CAAa,GAAEpC,GAAI,aAAYgC,EAAG,EAAlC,CAA9B;AACP,OAAO,MAAMsC,oBAAoB,GAAItC,EAAD,IAClClC,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,oBAAjB,EAAsCgC,EAAtC,CADK;AAEP,OAAO,MAAMuC,UAAU,GAAIvC,EAAD,IAAQlC,KAAK,CAACmC,GAAN,CAAW,GAAEjC,GAAI,aAAYgC,EAAG,EAAhC,CAA3B"},"metadata":{},"sourceType":"module"}