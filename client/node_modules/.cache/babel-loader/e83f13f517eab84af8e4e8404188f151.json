{"ast":null,"code":"import { AUTH, LOGOUT, SET_MESSAGE } from \"../constants/reducers\";\nimport * as api from \"../api\";\nexport const signup = (userData, bool) => async dispatch => {\n  try {\n    await api.register(userData).then(res => {\n      dispatch({\n        type: AUTH,\n        user: res.data\n      });\n      window.location = \"/\";\n    });\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n\n    if (bool === false) {\n      await api.login(userData).then(res => {\n        dispatch({\n          type: AUTH,\n          user: res.data\n        });\n        window.location = \"/\";\n      });\n    } else {\n      var _error$response, _error$response$data;\n\n      dispatch({\n        type: SET_MESSAGE,\n        payload: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message\n      });\n    }\n\n    dispatch({\n      type: SET_MESSAGE,\n      payload: error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message\n    });\n  }\n};\nexport const login = (userData, bool) => async dispatch => {\n  try {\n    await api.login(userData).then(res => {\n      dispatch({\n        type: AUTH,\n        user: res.data\n      });\n      window.location = \"/\";\n    });\n  } catch (error) {\n    if (bool === true) {\n      await api.register(userData).then(res => {\n        dispatch({\n          type: AUTH,\n          user: res.data\n        });\n        window.location = \"/\";\n      });\n    } else {\n      var _error$response3, _error$response3$data;\n\n      dispatch({\n        type: SET_MESSAGE,\n        payload: error === null || error === void 0 ? void 0 : (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message\n      });\n    }\n  }\n};\nexport const logout = () => async dispatch => {\n  await api.logout();\n  dispatch({\n    type: LOGOUT\n  });\n};","map":{"version":3,"names":["AUTH","LOGOUT","SET_MESSAGE","api","signup","userData","bool","dispatch","register","then","res","type","user","data","window","location","error","login","payload","response","message","logout"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/src/actions/auth.js"],"sourcesContent":["import { AUTH, LOGOUT, SET_MESSAGE } from \"../constants/reducers\";\nimport * as api from \"../api\";\n\nexport const signup = (userData, bool) => async (dispatch) => {\n  try {\n    await api.register(userData).then((res) => {\n      dispatch({ type: AUTH, user: res.data });\n      window.location = \"/\";\n    });\n  } catch (error) {\n    if (bool === false) {\n      await api.login(userData).then((res) => {\n        dispatch({ type: AUTH, user: res.data });\n        window.location = \"/\";\n      });\n    } else {\n      dispatch({ type: SET_MESSAGE, payload: error?.response?.data?.message });\n    }\n    dispatch({ type: SET_MESSAGE, payload: error?.response?.data?.message });\n  }\n};\n\nexport const login = (userData, bool) => async (dispatch) => {\n  try {\n    await api.login(userData).then((res) => {\n      dispatch({ type: AUTH, user: res.data });\n      window.location = \"/\";\n    });\n  } catch (error) {\n    if (bool === true) {\n      await api.register(userData).then((res) => {\n        dispatch({ type: AUTH, user: res.data });\n        window.location = \"/\";\n      });\n    } else {\n      dispatch({ type: SET_MESSAGE, payload: error?.response?.data?.message });\n    }\n  }\n};\n\nexport const logout = () => async (dispatch) => {\n  await api.logout();\n  dispatch({ type: LOGOUT });\n};\n"],"mappings":"AAAA,SAASA,IAAT,EAAeC,MAAf,EAAuBC,WAAvB,QAA0C,uBAA1C;AACA,OAAO,KAAKC,GAAZ,MAAqB,QAArB;AAEA,OAAO,MAAMC,MAAM,GAAG,CAACC,QAAD,EAAWC,IAAX,KAAoB,MAAOC,QAAP,IAAoB;EAC5D,IAAI;IACF,MAAMJ,GAAG,CAACK,QAAJ,CAAaH,QAAb,EAAuBI,IAAvB,CAA6BC,GAAD,IAAS;MACzCH,QAAQ,CAAC;QAAEI,IAAI,EAAEX,IAAR;QAAcY,IAAI,EAAEF,GAAG,CAACG;MAAxB,CAAD,CAAR;MACAC,MAAM,CAACC,QAAP,GAAkB,GAAlB;IACD,CAHK,CAAN;EAID,CALD,CAKE,OAAOC,KAAP,EAAc;IAAA;;IACd,IAAIV,IAAI,KAAK,KAAb,EAAoB;MAClB,MAAMH,GAAG,CAACc,KAAJ,CAAUZ,QAAV,EAAoBI,IAApB,CAA0BC,GAAD,IAAS;QACtCH,QAAQ,CAAC;UAAEI,IAAI,EAAEX,IAAR;UAAcY,IAAI,EAAEF,GAAG,CAACG;QAAxB,CAAD,CAAR;QACAC,MAAM,CAACC,QAAP,GAAkB,GAAlB;MACD,CAHK,CAAN;IAID,CALD,MAKO;MAAA;;MACLR,QAAQ,CAAC;QAAEI,IAAI,EAAET,WAAR;QAAqBgB,OAAO,EAAEF,KAAF,aAAEA,KAAF,0CAAEA,KAAK,CAAEG,QAAT,4EAAE,gBAAiBN,IAAnB,yDAAE,qBAAuBO;MAArD,CAAD,CAAR;IACD;;IACDb,QAAQ,CAAC;MAAEI,IAAI,EAAET,WAAR;MAAqBgB,OAAO,EAAEF,KAAF,aAAEA,KAAF,2CAAEA,KAAK,CAAEG,QAAT,8EAAE,iBAAiBN,IAAnB,0DAAE,sBAAuBO;IAArD,CAAD,CAAR;EACD;AACF,CAjBM;AAmBP,OAAO,MAAMH,KAAK,GAAG,CAACZ,QAAD,EAAWC,IAAX,KAAoB,MAAOC,QAAP,IAAoB;EAC3D,IAAI;IACF,MAAMJ,GAAG,CAACc,KAAJ,CAAUZ,QAAV,EAAoBI,IAApB,CAA0BC,GAAD,IAAS;MACtCH,QAAQ,CAAC;QAAEI,IAAI,EAAEX,IAAR;QAAcY,IAAI,EAAEF,GAAG,CAACG;MAAxB,CAAD,CAAR;MACAC,MAAM,CAACC,QAAP,GAAkB,GAAlB;IACD,CAHK,CAAN;EAID,CALD,CAKE,OAAOC,KAAP,EAAc;IACd,IAAIV,IAAI,KAAK,IAAb,EAAmB;MACjB,MAAMH,GAAG,CAACK,QAAJ,CAAaH,QAAb,EAAuBI,IAAvB,CAA6BC,GAAD,IAAS;QACzCH,QAAQ,CAAC;UAAEI,IAAI,EAAEX,IAAR;UAAcY,IAAI,EAAEF,GAAG,CAACG;QAAxB,CAAD,CAAR;QACAC,MAAM,CAACC,QAAP,GAAkB,GAAlB;MACD,CAHK,CAAN;IAID,CALD,MAKO;MAAA;;MACLR,QAAQ,CAAC;QAAEI,IAAI,EAAET,WAAR;QAAqBgB,OAAO,EAAEF,KAAF,aAAEA,KAAF,2CAAEA,KAAK,CAAEG,QAAT,8EAAE,iBAAiBN,IAAnB,0DAAE,sBAAuBO;MAArD,CAAD,CAAR;IACD;EACF;AACF,CAhBM;AAkBP,OAAO,MAAMC,MAAM,GAAG,MAAM,MAAOd,QAAP,IAAoB;EAC9C,MAAMJ,GAAG,CAACkB,MAAJ,EAAN;EACAd,QAAQ,CAAC;IAAEI,IAAI,EAAEV;EAAR,CAAD,CAAR;AACD,CAHM"},"metadata":{},"sourceType":"module"}