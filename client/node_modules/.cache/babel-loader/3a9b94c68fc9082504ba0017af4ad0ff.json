{"ast":null,"code":"import _asyncToGenerator from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import{NavLink}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{logout}from\"../../actions/auth\";import{isEmpty}from\"../utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var NavBar=function NavBar(_ref){var value=_ref.value;var user=useSelector(function(state){return state.user.user;});var _useState=useState(true),_useState2=_slicedToArray(_useState,2),menuIcon=_useState2[0],setMenuIcon=_useState2[1];var dispatch=useDispatch();var handleLogout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(logout());localStorage.clear();window.location=\"/\";case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleLogout(){return _ref2.apply(this,arguments);};}();var requireAuth=function requireAuth(el){return isEmpty(user)?\"/login\":\"/\".concat(el);};var toggleMenu=function toggleMenu(){var toggle=document.querySelector(\".menu-burger\");toggle.addEventListener(\"click\",function(){setMenuIcon(!menuIcon);});};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar-container \".concat(!menuIcon&&\"active-nav\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-left-part\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/imgs/icon.png\",alt:\"logo-anouanze\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-burger\",onClick:function onClick(){return toggleMenu();},children:/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/imgs/icons/\".concat(menuIcon?\"menu-burger.png\":\"close.png\"),alt:\"menu-burger\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-center-part\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:/*#__PURE__*/_jsx(\"li\",{className:value===\"Accueil\"?\"active\":undefined,children:\"Accueil\"})}),/*#__PURE__*/_jsx(NavLink,{to:requireAuth(\"events\"),children:/*#__PURE__*/_jsx(\"li\",{className:value===\"Events\"?\"active\":undefined,children:\"\\xC9v\\xE8nements\"})}),/*#__PURE__*/_jsx(NavLink,{to:requireAuth(\"provinces\"),children:/*#__PURE__*/_jsx(\"li\",{className:value===\"Paroisses\"||value===\"Provinces\"?\"active\":undefined,children:\"Paroisses\"})}),/*#__PURE__*/_jsx(NavLink,{to:requireAuth(\"demande\"),children:/*#__PURE__*/_jsx(\"li\",{className:value===\"Demande\"?\"active\":undefined,children:\"Demande de messe\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-right-part\",children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[user.adminType===true&&/*#__PURE__*/_jsx(NavLink,{to:\"/admin-dashboard\",className:\"admin-btn\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/imgs/icons/community.png\",alt:\"admin\"})}),user.moderatorType===true&&/*#__PURE__*/_jsxs(NavLink,{to:\"/mod-dashboard\",className:\"mod-btn\",children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/imgs/icons/mod.png\",alt:\"Moderator\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Espace d'administration\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"logout-btn\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/imgs/icons/logout.png\",alt:\"logout\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"D\\xE9connexion\"})]})]}):/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:\"navbar-log-button\",children:\"Connexion\"})})]});};export default NavBar;","map":{"version":3,"names":["React","useState","useEffect","NavLink","useDispatch","useSelector","logout","isEmpty","NavBar","value","user","state","menuIcon","setMenuIcon","dispatch","handleLogout","localStorage","clear","window","location","requireAuth","el","toggleMenu","toggle","document","querySelector","addEventListener","process","env","PUBLIC_URL","undefined","adminType","moderatorType"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/src/components/NavBar/NavBar.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { logout } from \"../../actions/auth\";\nimport { isEmpty } from \"../utils\";\n\nconst NavBar = ({ value }) => {\n  const user = useSelector((state) => state.user.user);\n  const [menuIcon, setMenuIcon] = useState(true);\n\n  const dispatch = useDispatch();\n\n  const handleLogout = async () => {\n    dispatch(logout());\n    localStorage.clear();\n    window.location = \"/\";\n  };\n\n  const requireAuth = (el) => {\n    return isEmpty(user) ? \"/login\" : `/${el}`;\n  };\n\n  const toggleMenu = () => {\n    let toggle = document.querySelector(\".menu-burger\");\n\n    toggle.addEventListener(\"click\", () => {\n      setMenuIcon(!menuIcon);\n    });\n  };\n\n  return (\n    <nav className={`navbar-container ${!menuIcon && \"active-nav\"}`}>\n      <div className=\"navbar-left-part\">\n        <NavLink to=\"/\">\n          <img\n            src={process.env.PUBLIC_URL + \"/imgs/icon.png\"}\n            alt=\"logo-anouanze\"\n          />\n        </NavLink>\n        <div className=\"menu-burger\" onClick={() => toggleMenu()}>\n          <img\n            src={\n              process.env.PUBLIC_URL +\n              `/imgs/icons/${menuIcon ? \"menu-burger.png\" : \"close.png\"}`\n            }\n            alt=\"menu-burger\"\n          />\n        </div>\n      </div>\n\n      <div className=\"navbar-center-part\">\n        <ul>\n          <NavLink to=\"/\">\n            <li className={value === \"Accueil\" ? \"active\" : undefined}>\n              Accueil\n            </li>\n          </NavLink>\n          <NavLink to={requireAuth(\"events\")}>\n            <li className={value === \"Events\" ? \"active\" : undefined}>\n              Évènements\n            </li>\n          </NavLink>\n          <NavLink to={requireAuth(\"provinces\")}>\n            <li\n              className={\n                value === \"Paroisses\" || value === \"Provinces\"\n                  ? \"active\"\n                  : undefined\n              }\n            >\n              Paroisses\n            </li>\n          </NavLink>\n          <NavLink to={requireAuth(\"demande\")}>\n            <li className={value === \"Demande\" ? \"active\" : undefined}>\n              Demande de messe\n            </li>\n          </NavLink>\n        </ul>\n      </div>\n\n      <div className=\"navbar-right-part\">\n        {user ? (\n          <>\n            {user.adminType === true && (\n              <NavLink to=\"/admin-dashboard\" className=\"admin-btn\">\n                <img\n                  src={process.env.PUBLIC_URL + \"/imgs/icons/community.png\"}\n                  alt=\"admin\"\n                />\n              </NavLink>\n            )}\n            {user.moderatorType === true && (\n              <NavLink to=\"/mod-dashboard\" className=\"mod-btn\">\n                <img\n                  src={process.env.PUBLIC_URL + \"/imgs/icons/mod.png\"}\n                  alt=\"Moderator\"\n                />\n                <h1>Espace d'administration</h1>\n              </NavLink>\n            )}\n\n            <div className=\"logout-btn\" onClick={handleLogout}>\n              <img\n                src={process.env.PUBLIC_URL + \"/imgs/icons/logout.png\"}\n                alt=\"logout\"\n              />\n              <h1>Déconnexion</h1>\n            </div>\n          </>\n        ) : (\n          <NavLink to=\"/login\" className=\"navbar-log-button\">\n            Connexion\n          </NavLink>\n        )}\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}