{"ast":null,"code":"import _slicedToArray from\"/Users/jocode/Documents/GitHub/anouanze/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import NavBar from\"../components/NavBar/NavBar\";import{NavLink,useParams}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{isEmpty}from\"../components/utils\";import{getParoisse}from\"../actions/paroisse\";import{getActuByID}from\"../actions/actus\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Actus=function Actus(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),onLoading=_useState2[0],setOnLoading=_useState2[1];var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();useEffect(function(){if(onLoading){dispatch(getParoisse(id));dispatch(getActuByID(id));}setTimeout(function(){setOnLoading(false);},1000);},[dispatch,id,onLoading]);var paroisse=useSelector(function(state){return state.paroisse;});var actus=useSelector(function(state){return state.actus.data;});!isEmpty(actus)&&actus.sort(function(a,b){return b.createdAt.localeCompare(a.createdAt);});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{value:\"Paroisses\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"actus-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"head\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/uploads/actus/default-actu.jpg\",alt:\"Plus Actualit\\xE9ss\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"paroisse-name\",children:paroisse.name}),!isEmpty(actus)&&renderActus(actus)]})]});};var renderActus=function renderActus(arr){return/*#__PURE__*/_jsx(\"div\",{className:\"actus-container\",children:!isEmpty(arr)?arr.map(function(el){return/*#__PURE__*/_jsxs(NavLink,{to:\"/actu/\".concat(el._id),className:\"actu-bloc\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"actu-bloc-left\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+el.poster,alt:el.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"actu-bloc-right\",children:[/*#__PURE__*/_jsx(\"p\",{children:el===null||el===void 0?void 0:el.title}),/*#__PURE__*/_jsx(\"p\",{children:el===null||el===void 0?void 0:el.description}),\" \"]})]});}):null});};export default Actus;","map":{"version":3,"names":["React","useState","useEffect","NavBar","NavLink","useParams","useDispatch","useSelector","isEmpty","getParoisse","getActuByID","Actus","onLoading","setOnLoading","id","dispatch","setTimeout","paroisse","state","actus","data","sort","a","b","createdAt","localeCompare","process","env","PUBLIC_URL","name","renderActus","arr","map","el","_id","poster","title","description"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/src/pages/Actus.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport NavBar from \"../components/NavBar/NavBar\";\nimport { NavLink, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { isEmpty } from \"../components/utils\";\nimport { getParoisse } from \"../actions/paroisse\";\nimport { getActuByID } from \"../actions/actus\";\n\nconst Actus = () => {\n  const [onLoading, setOnLoading] = useState(true);\n\n  const { id } = useParams();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (onLoading) {\n      dispatch(getParoisse(id));\n      dispatch(getActuByID(id));\n    }\n\n    setTimeout(() => {\n      setOnLoading(false);\n    }, 1000);\n  }, [dispatch, id, onLoading]);\n\n  const paroisse = useSelector((state) => state.paroisse);\n  const actus = useSelector((state) => state.actus.data);\n  !isEmpty(actus) &&\n    actus.sort((a, b) => {\n      return b.createdAt.localeCompare(a.createdAt);\n    });\n\n  return (\n    <>\n      <NavBar value={\"Paroisses\"} />\n\n      <div className=\"actus-container\">\n        <div className=\"head\">\n          <img\n            src={process.env.PUBLIC_URL + \"/uploads/actus/default-actu.jpg\"}\n            alt=\"Plus ActualitÃ©ss\"\n          />\n        </div>\n\n        <div className=\"paroisse-name\">{paroisse.name}</div>\n\n        {!isEmpty(actus) && renderActus(actus)}\n      </div>\n    </>\n  );\n};\n\nconst renderActus = (arr) => {\n  return (\n    <div className=\"actus-container\">\n      {!isEmpty(arr)\n        ? arr.map((el) => (\n            <NavLink to={`/actu/${el._id}`} className=\"actu-bloc\">\n              <div className=\"actu-bloc-left\">\n                <img src={process.env.PUBLIC_URL + el.poster} alt={el.title} />\n              </div>\n              <div className=\"actu-bloc-right\">\n                <p>{el?.title}</p>\n                <p>{el?.description}</p>{\" \"}\n              </div>\n            </NavLink>\n          ))\n        : null}\n    </div>\n  );\n};\n\nexport default Actus;\n"],"mappings":"oIAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,OAAP,KAAmB,6BAAnB,CACA,OAASC,OAAT,CAAkBC,SAAlB,KAAmC,kBAAnC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,OAASC,WAAT,KAA4B,qBAA5B,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,6IAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClB,cAAkCV,QAAQ,CAAC,IAAD,CAA1C,wCAAOW,SAAP,eAAkBC,YAAlB,eAEA,eAAeR,SAAS,EAAxB,CAAQS,EAAR,YAAQA,EAAR,CACA,GAAMC,SAAQ,CAAGT,WAAW,EAA5B,CAEAJ,SAAS,CAAC,UAAM,CACd,GAAIU,SAAJ,CAAe,CACbG,QAAQ,CAACN,WAAW,CAACK,EAAD,CAAZ,CAAR,CACAC,QAAQ,CAACL,WAAW,CAACI,EAAD,CAAZ,CAAR,CACD,CAEDE,UAAU,CAAC,UAAM,CACfH,YAAY,CAAC,KAAD,CAAZ,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CATQ,CASN,CAACE,QAAD,CAAWD,EAAX,CAAeF,SAAf,CATM,CAAT,CAWA,GAAMK,SAAQ,CAAGV,WAAW,CAAC,SAACW,KAAD,QAAWA,MAAK,CAACD,QAAjB,EAAD,CAA5B,CACA,GAAME,MAAK,CAAGZ,WAAW,CAAC,SAACW,KAAD,QAAWA,MAAK,CAACC,KAAN,CAAYC,IAAvB,EAAD,CAAzB,CACA,CAACZ,OAAO,CAACW,KAAD,CAAR,EACEA,KAAK,CAACE,IAAN,CAAW,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACnB,MAAOA,EAAC,CAACC,SAAF,CAAYC,aAAZ,CAA0BH,CAAC,CAACE,SAA5B,CAAP,CACD,CAFD,CADF,CAKA,mBACE,wCACE,KAAC,MAAD,EAAQ,KAAK,CAAE,WAAf,EADF,cAGE,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,MAAf,uBACE,YACE,GAAG,CAAEE,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyB,iCADhC,CAEE,GAAG,CAAC,qBAFN,EADF,EADF,cAQE,YAAK,SAAS,CAAC,eAAf,UAAgCX,QAAQ,CAACY,IAAzC,EARF,CAUG,CAACrB,OAAO,CAACW,KAAD,CAAR,EAAmBW,WAAW,CAACX,KAAD,CAVjC,GAHF,GADF,CAkBD,CA1CD,CA4CA,GAAMW,YAAW,CAAG,QAAdA,YAAc,CAACC,GAAD,CAAS,CAC3B,mBACE,YAAK,SAAS,CAAC,iBAAf,UACG,CAACvB,OAAO,CAACuB,GAAD,CAAR,CACGA,GAAG,CAACC,GAAJ,CAAQ,SAACC,EAAD,qBACN,MAAC,OAAD,EAAS,EAAE,iBAAWA,EAAE,CAACC,GAAd,CAAX,CAAgC,SAAS,CAAC,WAA1C,wBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,YAAK,GAAG,CAAER,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyBK,EAAE,CAACE,MAAtC,CAA8C,GAAG,CAAEF,EAAE,CAACG,KAAtD,EADF,EADF,cAIE,aAAK,SAAS,CAAC,iBAAf,wBACE,mBAAIH,EAAJ,SAAIA,EAAJ,iBAAIA,EAAE,CAAEG,KAAR,EADF,cAEE,mBAAIH,EAAJ,SAAIA,EAAJ,iBAAIA,EAAE,CAAEI,WAAR,EAFF,CAE2B,GAF3B,GAJF,GADM,EAAR,CADH,CAYG,IAbN,EADF,CAiBD,CAlBD,CAoBA,cAAe1B,MAAf"},"metadata":{},"sourceType":"module"}