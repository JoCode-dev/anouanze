{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useContext } from 'react';\nimport { UP_KEY, DOWN_KEY, RIGHT_KEY, LEFT_KEY } from '../../../../libs/constants';\nimport { hsvToRgb, rgbToRgba, recomposeColor, decomposeColor, rgbaToHex } from '../../../../styles/helpers/color';\nimport { StyledColor, StyledCircle } from './styled';\nimport { ColorPickerContext } from '../../context';\nimport { calculateSaturation, calculateBright } from './helpers';\nvar Saturation = React.forwardRef(function (_props, ref) {\n  var _keyHandlerMap;\n\n  var _useContext = useContext(ColorPickerContext),\n      rgba = _useContext.rgba,\n      hsv = _useContext.hsv,\n      tabIndex = _useContext.tabIndex,\n      onChange = _useContext.onChange;\n\n  var containerRef = useRef();\n  var isMouseDown = useRef(false);\n\n  var _hsv = _slicedToArray(hsv, 3),\n      h = _hsv[0],\n      s = _hsv[1],\n      v = _hsv[2];\n\n  var a = rgba[3];\n\n  var change = function change(_ref) {\n    var saturation = _ref.saturation,\n        bright = _ref.bright;\n\n    if (saturation >= 0) {\n      hsv[1] = saturation;\n    }\n\n    if (bright >= 0) {\n      hsv[2] = bright;\n    }\n\n    var rgbaColor = rgbToRgba(hsvToRgb(recomposeColor({\n      type: 'hsv',\n      values: hsv\n    })), a);\n    onChange({\n      hex: \"#\".concat(rgbaToHex(rgbaColor)),\n      rgba: decomposeColor(rgbaColor).values,\n      hsv: hsv\n    });\n  };\n\n  var handleChange = function handleChange(event) {\n    var rect = containerRef.current.getBoundingClientRect();\n    var saturation = calculateSaturation(event, rect);\n    var bright = calculateBright(event, rect);\n    change({\n      saturation: saturation,\n      bright: bright\n    });\n  };\n\n  var handleMouseDown = function handleMouseDown(event) {\n    handleChange(event);\n    isMouseDown.current = true;\n  };\n\n  var handleMouseMove = function handleMouseMove(event) {\n    if (isMouseDown.current) {\n      handleChange(event);\n    }\n  };\n\n  var handleMouseUp = function handleMouseUp() {\n    isMouseDown.current = false;\n  };\n\n  var handleMouseLeave = function handleMouseLeave(event) {\n    if (isMouseDown.current) {\n      handleChange(event);\n      isMouseDown.current = false;\n    }\n  };\n\n  var keyHandlerMap = (_keyHandlerMap = {}, _defineProperty(_keyHandlerMap, UP_KEY, function () {\n    var bright = Math.min(100, v + 1);\n    change({\n      bright: bright\n    });\n  }), _defineProperty(_keyHandlerMap, DOWN_KEY, function () {\n    var bright = Math.max(0, v - 1);\n    change({\n      bright: bright\n    });\n  }), _defineProperty(_keyHandlerMap, LEFT_KEY, function () {\n    var saturation = Math.max(0, s - 1);\n    change({\n      saturation: saturation\n    });\n  }), _defineProperty(_keyHandlerMap, RIGHT_KEY, function () {\n    var saturation = Math.min(100, s + 1);\n    change({\n      saturation: saturation\n    });\n  }), _keyHandlerMap);\n\n  var handleKeyDown = function handleKeyDown(event) {\n    var keyCode = event.keyCode;\n\n    if (keyHandlerMap[keyCode]) {\n      event.preventDefault();\n      keyHandlerMap[keyCode]();\n    }\n  };\n\n  var handleClick = function handleClick() {\n    ref.current.focus();\n  };\n\n  var hsl = \"hsl(\".concat(h, \",100%, 50%)\");\n  var styleColor = {\n    background: hsl\n  };\n  var stylePointer = {\n    top: \"\".concat(100 - v, \"%\"),\n    left: \"\".concat(s, \"%\")\n  };\n  return React.createElement(StyledColor, {\n    ref: containerRef,\n    style: styleColor,\n    onTouchMove: handleChange,\n    onTouchStart: handleChange,\n    onKeyDown: handleKeyDown,\n    onMouseDown: handleMouseDown,\n    onMouseMove: handleMouseMove,\n    onMouseUp: handleMouseUp,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  }, React.createElement(StyledCircle, {\n    ref: ref,\n    type: \"button\",\n    tabIndex: tabIndex,\n    style: stylePointer\n  }));\n});\nexport default Saturation;","map":{"version":3,"names":["_defineProperty","_slicedToArray","React","useRef","useContext","UP_KEY","DOWN_KEY","RIGHT_KEY","LEFT_KEY","hsvToRgb","rgbToRgba","recomposeColor","decomposeColor","rgbaToHex","StyledColor","StyledCircle","ColorPickerContext","calculateSaturation","calculateBright","Saturation","forwardRef","_props","ref","_keyHandlerMap","_useContext","rgba","hsv","tabIndex","onChange","containerRef","isMouseDown","_hsv","h","s","v","a","change","_ref","saturation","bright","rgbaColor","type","values","hex","concat","handleChange","event","rect","current","getBoundingClientRect","handleMouseDown","handleMouseMove","handleMouseUp","handleMouseLeave","keyHandlerMap","Math","min","max","handleKeyDown","keyCode","preventDefault","handleClick","focus","hsl","styleColor","background","stylePointer","top","left","createElement","style","onTouchMove","onTouchStart","onKeyDown","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onClick"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/node_modules/react-rainbow-components/esm/components/ColorPicker/commons/saturation/index.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useContext } from 'react';\nimport { UP_KEY, DOWN_KEY, RIGHT_KEY, LEFT_KEY } from '../../../../libs/constants';\nimport { hsvToRgb, rgbToRgba, recomposeColor, decomposeColor, rgbaToHex } from '../../../../styles/helpers/color';\nimport { StyledColor, StyledCircle } from './styled';\nimport { ColorPickerContext } from '../../context';\nimport { calculateSaturation, calculateBright } from './helpers';\nvar Saturation = React.forwardRef(function (_props, ref) {\n  var _keyHandlerMap;\n\n  var _useContext = useContext(ColorPickerContext),\n      rgba = _useContext.rgba,\n      hsv = _useContext.hsv,\n      tabIndex = _useContext.tabIndex,\n      onChange = _useContext.onChange;\n\n  var containerRef = useRef();\n  var isMouseDown = useRef(false);\n\n  var _hsv = _slicedToArray(hsv, 3),\n      h = _hsv[0],\n      s = _hsv[1],\n      v = _hsv[2];\n\n  var a = rgba[3];\n\n  var change = function change(_ref) {\n    var saturation = _ref.saturation,\n        bright = _ref.bright;\n\n    if (saturation >= 0) {\n      hsv[1] = saturation;\n    }\n\n    if (bright >= 0) {\n      hsv[2] = bright;\n    }\n\n    var rgbaColor = rgbToRgba(hsvToRgb(recomposeColor({\n      type: 'hsv',\n      values: hsv\n    })), a);\n    onChange({\n      hex: \"#\".concat(rgbaToHex(rgbaColor)),\n      rgba: decomposeColor(rgbaColor).values,\n      hsv: hsv\n    });\n  };\n\n  var handleChange = function handleChange(event) {\n    var rect = containerRef.current.getBoundingClientRect();\n    var saturation = calculateSaturation(event, rect);\n    var bright = calculateBright(event, rect);\n    change({\n      saturation: saturation,\n      bright: bright\n    });\n  };\n\n  var handleMouseDown = function handleMouseDown(event) {\n    handleChange(event);\n    isMouseDown.current = true;\n  };\n\n  var handleMouseMove = function handleMouseMove(event) {\n    if (isMouseDown.current) {\n      handleChange(event);\n    }\n  };\n\n  var handleMouseUp = function handleMouseUp() {\n    isMouseDown.current = false;\n  };\n\n  var handleMouseLeave = function handleMouseLeave(event) {\n    if (isMouseDown.current) {\n      handleChange(event);\n      isMouseDown.current = false;\n    }\n  };\n\n  var keyHandlerMap = (_keyHandlerMap = {}, _defineProperty(_keyHandlerMap, UP_KEY, function () {\n    var bright = Math.min(100, v + 1);\n    change({\n      bright: bright\n    });\n  }), _defineProperty(_keyHandlerMap, DOWN_KEY, function () {\n    var bright = Math.max(0, v - 1);\n    change({\n      bright: bright\n    });\n  }), _defineProperty(_keyHandlerMap, LEFT_KEY, function () {\n    var saturation = Math.max(0, s - 1);\n    change({\n      saturation: saturation\n    });\n  }), _defineProperty(_keyHandlerMap, RIGHT_KEY, function () {\n    var saturation = Math.min(100, s + 1);\n    change({\n      saturation: saturation\n    });\n  }), _keyHandlerMap);\n\n  var handleKeyDown = function handleKeyDown(event) {\n    var keyCode = event.keyCode;\n\n    if (keyHandlerMap[keyCode]) {\n      event.preventDefault();\n      keyHandlerMap[keyCode]();\n    }\n  };\n\n  var handleClick = function handleClick() {\n    ref.current.focus();\n  };\n\n  var hsl = \"hsl(\".concat(h, \",100%, 50%)\");\n  var styleColor = {\n    background: hsl\n  };\n  var stylePointer = {\n    top: \"\".concat(100 - v, \"%\"),\n    left: \"\".concat(s, \"%\")\n  };\n  return React.createElement(StyledColor, {\n    ref: containerRef,\n    style: styleColor,\n    onTouchMove: handleChange,\n    onTouchStart: handleChange,\n    onKeyDown: handleKeyDown,\n    onMouseDown: handleMouseDown,\n    onMouseMove: handleMouseMove,\n    onMouseUp: handleMouseUp,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  }, React.createElement(StyledCircle, {\n    ref: ref,\n    type: \"button\",\n    tabIndex: tabIndex,\n    style: stylePointer\n  }));\n});\nexport default Saturation;"],"mappings":"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"},"metadata":{},"sourceType":"module"}