{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"id\", \"className\", \"style\", \"children\", \"isLoading\", \"menuAlignment\", \"menuSize\", \"title\", \"assistiveText\", \"trigger\"];\nimport React, { useRef, useImperativeHandle, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useWindowScrolling } from '@rainbow-modules/hooks';\nimport { useDisclosure, useOutsideClick, useWindowResize, useUniqueIdentifier } from '../../libs/hooks';\nimport { ESCAPE_KEY, TAB_KEY } from '../../libs/constants';\nimport InternalOverlay from '../InternalOverlay';\nimport MenuContent from './menuContent';\nimport { StyledContainer, StyledDropdown } from './styled';\nimport { resolvePosition } from './utils';\nvar PrimitiveMenu = React.forwardRef(function (props, ref) {\n  var id = props.id,\n      className = props.className,\n      style = props.style,\n      children = props.children,\n      isLoading = props.isLoading,\n      menuAlignment = props.menuAlignment,\n      menuSize = props.menuSize,\n      title = props.title,\n      assistiveText = props.assistiveText,\n      Trigger = props.trigger,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  var listboxId = useUniqueIdentifier('listbox');\n  var ariaLabel = title || assistiveText;\n  var triggerRef = useRef();\n  var dropdownRef = useRef();\n\n  var _useDisclosure = useDisclosure(false),\n      isOpen = _useDisclosure.isOpen,\n      closeMenu = _useDisclosure.close,\n      toggleMenu = _useDisclosure.toggle;\n\n  useOutsideClick(dropdownRef, function (event) {\n    if (triggerRef.current.htmlElementRef.current.contains(event.target)) {\n      return null;\n    }\n\n    return closeMenu();\n  }, isOpen);\n  useWindowResize(function () {\n    return closeMenu();\n  }, isOpen);\n  useWindowScrolling(closeMenu, isOpen);\n  useImperativeHandle(ref, function () {\n    return {\n      focus: function focus() {\n        triggerRef.current.focus();\n      },\n      click: function click() {\n        triggerRef.current.click();\n      },\n      blur: function blur() {\n        triggerRef.current.blur();\n      }\n    };\n  });\n  var positionResolver = useCallback(function (opts) {\n    return resolvePosition(opts, menuAlignment);\n  }, [menuAlignment]);\n  var handleKeyDown = useCallback(function (event) {\n    if (isOpen) {\n      var keyCode = event.keyCode;\n      if (keyCode !== TAB_KEY) event.preventDefault();\n\n      if (keyCode === TAB_KEY || keyCode === ESCAPE_KEY) {\n        closeMenu();\n        triggerRef.current.focus();\n      }\n    }\n  }, [closeMenu, isOpen]);\n  return React.createElement(StyledContainer, {\n    id: id,\n    role: \"presentation\",\n    className: className,\n    style: style,\n    onKeyDown: handleKeyDown\n  }, React.createElement(Trigger, _extends({}, rest, {\n    isOpen: isOpen,\n    title: title,\n    ariaControls: listboxId,\n    ariaExpanded: isOpen,\n    ariaHaspopup: true,\n    assistiveText: assistiveText,\n    onClick: toggleMenu,\n    ref: triggerRef\n  })), React.createElement(InternalOverlay, {\n    isVisible: isOpen,\n    positionResolver: positionResolver,\n    triggerElementRef: function triggerElementRef() {\n      return triggerRef.current.htmlElementRef;\n    }\n  }, React.createElement(StyledDropdown, {\n    id: listboxId,\n    \"data-id\": \"primitive-menu_dropdown\",\n    ref: dropdownRef,\n    menuSize: menuSize,\n    menuAlignment: menuAlignment,\n    isLoading: isLoading\n  }, React.createElement(MenuContent, {\n    ariaLabel: ariaLabel,\n    onRequestClose: closeMenu,\n    isLoading: isLoading\n  }, children))));\n});\nPrimitiveMenu.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.object]),\n  menuSize: PropTypes.oneOf(['xx-small', 'x-small', 'small', 'medium', 'large']),\n  menuAlignment: PropTypes.oneOf(['left', 'right', 'bottom', 'center', 'bottom-right', 'bottom-left']),\n  isLoading: PropTypes.bool,\n  title: PropTypes.string,\n  assistiveText: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  id: PropTypes.string,\n  trigger: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired\n};\nPrimitiveMenu.defaultProps = {\n  children: null,\n  menuSize: 'xx-small',\n  menuAlignment: 'left',\n  isLoading: false,\n  title: undefined,\n  assistiveText: undefined,\n  className: undefined,\n  style: undefined,\n  id: undefined\n};\nexport default PrimitiveMenu;","map":{"version":3,"names":["_extends","_objectWithoutProperties","_excluded","React","useRef","useImperativeHandle","useCallback","PropTypes","useWindowScrolling","useDisclosure","useOutsideClick","useWindowResize","useUniqueIdentifier","ESCAPE_KEY","TAB_KEY","InternalOverlay","MenuContent","StyledContainer","StyledDropdown","resolvePosition","PrimitiveMenu","forwardRef","props","ref","id","className","style","children","isLoading","menuAlignment","menuSize","title","assistiveText","Trigger","trigger","rest","listboxId","ariaLabel","triggerRef","dropdownRef","_useDisclosure","isOpen","closeMenu","close","toggleMenu","toggle","event","current","htmlElementRef","contains","target","focus","click","blur","positionResolver","opts","handleKeyDown","keyCode","preventDefault","createElement","role","onKeyDown","ariaControls","ariaExpanded","ariaHaspopup","onClick","isVisible","triggerElementRef","onRequestClose","propTypes","oneOfType","arrayOf","node","object","oneOf","bool","string","func","isRequired","defaultProps","undefined"],"sources":["/Users/jocode/Documents/GitHub/anouanze/client/node_modules/react-rainbow-components/esm/components/PrimitiveMenu/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"id\", \"className\", \"style\", \"children\", \"isLoading\", \"menuAlignment\", \"menuSize\", \"title\", \"assistiveText\", \"trigger\"];\nimport React, { useRef, useImperativeHandle, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useWindowScrolling } from '@rainbow-modules/hooks';\nimport { useDisclosure, useOutsideClick, useWindowResize, useUniqueIdentifier } from '../../libs/hooks';\nimport { ESCAPE_KEY, TAB_KEY } from '../../libs/constants';\nimport InternalOverlay from '../InternalOverlay';\nimport MenuContent from './menuContent';\nimport { StyledContainer, StyledDropdown } from './styled';\nimport { resolvePosition } from './utils';\nvar PrimitiveMenu = React.forwardRef(function (props, ref) {\n  var id = props.id,\n      className = props.className,\n      style = props.style,\n      children = props.children,\n      isLoading = props.isLoading,\n      menuAlignment = props.menuAlignment,\n      menuSize = props.menuSize,\n      title = props.title,\n      assistiveText = props.assistiveText,\n      Trigger = props.trigger,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  var listboxId = useUniqueIdentifier('listbox');\n  var ariaLabel = title || assistiveText;\n  var triggerRef = useRef();\n  var dropdownRef = useRef();\n\n  var _useDisclosure = useDisclosure(false),\n      isOpen = _useDisclosure.isOpen,\n      closeMenu = _useDisclosure.close,\n      toggleMenu = _useDisclosure.toggle;\n\n  useOutsideClick(dropdownRef, function (event) {\n    if (triggerRef.current.htmlElementRef.current.contains(event.target)) {\n      return null;\n    }\n\n    return closeMenu();\n  }, isOpen);\n  useWindowResize(function () {\n    return closeMenu();\n  }, isOpen);\n  useWindowScrolling(closeMenu, isOpen);\n  useImperativeHandle(ref, function () {\n    return {\n      focus: function focus() {\n        triggerRef.current.focus();\n      },\n      click: function click() {\n        triggerRef.current.click();\n      },\n      blur: function blur() {\n        triggerRef.current.blur();\n      }\n    };\n  });\n  var positionResolver = useCallback(function (opts) {\n    return resolvePosition(opts, menuAlignment);\n  }, [menuAlignment]);\n  var handleKeyDown = useCallback(function (event) {\n    if (isOpen) {\n      var keyCode = event.keyCode;\n      if (keyCode !== TAB_KEY) event.preventDefault();\n\n      if (keyCode === TAB_KEY || keyCode === ESCAPE_KEY) {\n        closeMenu();\n        triggerRef.current.focus();\n      }\n    }\n  }, [closeMenu, isOpen]);\n  return React.createElement(StyledContainer, {\n    id: id,\n    role: \"presentation\",\n    className: className,\n    style: style,\n    onKeyDown: handleKeyDown\n  }, React.createElement(Trigger, _extends({}, rest, {\n    isOpen: isOpen,\n    title: title,\n    ariaControls: listboxId,\n    ariaExpanded: isOpen,\n    ariaHaspopup: true,\n    assistiveText: assistiveText,\n    onClick: toggleMenu,\n    ref: triggerRef\n  })), React.createElement(InternalOverlay, {\n    isVisible: isOpen,\n    positionResolver: positionResolver,\n    triggerElementRef: function triggerElementRef() {\n      return triggerRef.current.htmlElementRef;\n    }\n  }, React.createElement(StyledDropdown, {\n    id: listboxId,\n    \"data-id\": \"primitive-menu_dropdown\",\n    ref: dropdownRef,\n    menuSize: menuSize,\n    menuAlignment: menuAlignment,\n    isLoading: isLoading\n  }, React.createElement(MenuContent, {\n    ariaLabel: ariaLabel,\n    onRequestClose: closeMenu,\n    isLoading: isLoading\n  }, children))));\n});\nPrimitiveMenu.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.object]),\n  menuSize: PropTypes.oneOf(['xx-small', 'x-small', 'small', 'medium', 'large']),\n  menuAlignment: PropTypes.oneOf(['left', 'right', 'bottom', 'center', 'bottom-right', 'bottom-left']),\n  isLoading: PropTypes.bool,\n  title: PropTypes.string,\n  assistiveText: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  id: PropTypes.string,\n  trigger: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired\n};\nPrimitiveMenu.defaultProps = {\n  children: null,\n  menuSize: 'xx-small',\n  menuAlignment: 'left',\n  isLoading: false,\n  title: undefined,\n  assistiveText: undefined,\n  className: undefined,\n  style: undefined,\n  id: undefined\n};\nexport default PrimitiveMenu;"],"mappings":"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"},"metadata":{},"sourceType":"module"}